(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101],{98135:function(e,t,s){Promise.resolve().then(s.bind(s,27009))},27009:function(e,t,s){"use strict";s.r(t),s.d(t,{Main:function(){return si}});var l,r,a,n,i,o,c,u,d,_,h,p,m,v,y,f,x,b=s(57437),j=s(2265),g=s(99931),k=s.n(g),w=s(57967),N=s.n(w),C=s(60509),S=s.n(C),M=s(82901),O=s.n(M),D=s(16480),H=s.n(D),E=s(15864),F=s.n(E),I=s(20703),P=s(48344),A=s(45543);s(86978),s(70501),s(67090);var z=s(52846);function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var R=e=>z.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},e),n||(n=z.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.191 1.414 1.706 9.9m0 0 8.485 8.486M1.706 9.899h16.97"})));function W(e){let{images:t,isActive:s,isMapCard:l}=e,r=j.useRef(null),a=j.useRef(null),n=e=>{e.preventDefault(),e.stopPropagation()};return(0,b.jsxs)("div",{className:H()(F().root,{[F().map_card]:l}),children:[(0,b.jsx)(R,{className:H()(F().arrow,F().prev,{[F().active]:s&&t.length>1}),onClick:e=>{n(e),a?.current?.slidePrev()}}),(0,b.jsx)(R,{className:H()(F().arrow,F().next,{[F().active]:s&&t.length>1}),onClick:e=>{n(e),a?.current?.slideNext()}}),(0,b.jsx)(P.tq,{className:H()(F().slider,"pagination-hotels-card"),modules:[A.tl],pagination:{dynamicBullets:!0},spaceBetween:0,slidesPerView:1,loop:!0,ref:r,autoHeight:!0,onSwiper:e=>a.current=e,children:t.map((e,t)=>(0,b.jsx)(P.o5,{className:F().slide,children:(0,b.jsx)(I.default,{className:H()(F().image),src:e,alt:"img",width:400,height:400,loading:t>0?"lazy":"eager",priority:t<1})},t))})]})}var B=s(4338),V=s.n(B),$=s(91967),q=s(58924),U=s.n(q),G=s(81837),T=s(42256);function Z(e){let{locations:t,metro:s,address:l}=e;return(0,b.jsxs)("div",{className:U().root,children:[(0,b.jsx)(T.Y,{text:l,location:"1",hotelsSelect:!0}),(0,b.jsx)(G.m,{textBefore:s.distance,metro:s.stations,hotelsSelect:!0}),(0,b.jsx)(T.Y,{className:U().location_2,text:`${t.distance} ${t.textBefore} ${t.text}`,location:"2",hotelsSelect:!0})]})}var Y=s(39569),J=s.n(Y);function K(e){let{title:t}=e;return(0,b.jsx)("h2",{className:J().root,children:t})}function X(e){let{title:t,locations:s,metro:l,address:r,amenities:a}=e;return(0,b.jsxs)("div",{className:V().root,children:[(0,b.jsx)(K,{title:t}),(0,b.jsx)(Z,{locations:s,metro:l,address:r}),(0,b.jsx)($.a,{className:V().amenities,amenities:a})]})}var Q=s(75803),ee=s.n(Q),et=s(74898);function es(){return(es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var el=e=>z.createElement("svg",es({xmlns:"http://www.w3.org/2000/svg",width:7,height:12,fill:"none"},e),i||(i=z.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 5 5-5 5"}))),er=s(24843),ea=s(2769);function en(e){let{isHover:t,isBalloon:s}=e,l=(0,er.GS)(ea.ai);return(0,b.jsxs)("div",{className:H()(ee().root,{[ee().balloon]:s}),children:[(0,b.jsx)("span",{className:ee().price}),(0,b.jsx)(et.z,{className:H()(ee().button,{[ee().hover]:t},{[ee().balloon]:s}),green:!0,l:!0,children:l||s?(0,b.jsx)(el,{}):"Выбрать"})]})}var ei=s(90683),eo=s(8792),ec=s(84402);let eu=e=>e===ec.h.pokrovka?"msk":"spb";function ed(e){let{item:t,selectedHotelID:s,setSelectedCity:l,hoverHotelID:r,setHoverHotelID:a,setTopCard:n,queryParams:i}=e,o=(0,er.GS)(ea.Mq),[c,u]=j.useState(!1),d=r?r===t.id:s===t.id,_=j.useRef(null);return j.useEffect(()=>{if(!_||!_.current)return;let e=_.current.offsetTop;if(o&&s===t.id){n(e);return}r!==t.id||c||n(e),""===r&&s===t.id&&n(e)},[r,t.id,n,c,s,o]),(0,b.jsxs)(eo.default,{className:H()(O().root,{[O().hover]:d}),onMouseEnter:()=>{a(t.id),l(t.city),u(!0)},onMouseLeave:()=>{a(""),u(!1)},href:i.length>0?`/hotels/${eu(t.id)}/${ei.D[t.id]}?${i}`:`/hotels/${eu(t.id)}/${ei.D[t.id]}`,ref:_,children:[(0,b.jsx)(W,{images:t.imagesSmall,isActive:c}),(0,b.jsx)(X,{title:t.header,locations:t.landmarks.main,metro:t.metro,address:`${t.city}, ${t.address}`,amenities:t.services}),(0,b.jsx)(en,{isHover:d})]})}var e_=s(86724),eh=s.n(e_);let ep=j.forwardRef((e,t)=>{let{children:s,className:l}=e;return(0,b.jsx)("div",{className:H()(eh().root,l),ref:t,children:s})});function em(e){let{isOpenMapMobile:t,hotels:s,selectedHotelID:l,setSelectedCity:r,hoverHotelID:a,setHoverHotelID:n,queryParams:i}=e,o=(0,er.GS)(ea.Mq),c=j.useRef(null),[u,d]=j.useState(0);return j.useEffect(()=>{if(!o&&window.innerWidth<window.innerHeight&&l){window.scrollTo({top:u+300,behavior:"smooth"});return}if(o&&window&&!t&&l){window.scrollTo({top:u+260,behavior:"smooth"});return}c?.current?.scrollTo({top:u,behavior:"smooth"})},[u,c,o,t,l]),(0,b.jsxs)("div",{className:H()(S().root,{[S().map_active]:t}),children:[(0,b.jsx)(ep,{className:S().cards_wrapper,ref:c,children:s.map((e,t)=>(0,b.jsx)(ed,{item:e,selectedHotelID:l,setSelectedCity:r,hoverHotelID:a,setHoverHotelID:n,setTopCard:d,queryParams:i},t))}),(0,b.jsx)("div",{className:S().gradient})]})}ep.displayName="Scrollbar";var ev=s(46783),ey=s.n(ev);function ef(){return(ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var ex=e=>z.createElement("svg",ef({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 13 13"},e),o||(o=z.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11.667 8.77 8.259m0 0A4.5 4.5 0 1 0 2.23 2.075a4.5 4.5 0 0 0 6.538 6.184"}))),eb=s(82700),ej=s(47907);function eg(e){let{openModal:t,filterTL:s,cityPage:l}=e;(0,ej.usePathname)();let r=j.useCallback(()=>{if(!s)return;let{guests:e}=s;switch(!0){case 1===e:return"гость";case 5===e:return"гостей";default:return"гостя"}},[s]),a=j.useCallback(()=>{if(s){let{date:e}=s,t=(0,eb.WU)(e[0],"dd.MM"),l=(0,eb.WU)(e[1],"dd.MM");return`${t} - ${l}`}},[s]);return(0,b.jsxs)("div",{className:ey().root,children:[(0,b.jsx)("span",{className:ey().title,children:"Наши отели"}),(0,b.jsxs)("div",{className:ey().search,onClick:t,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:H()(ey().city,{[ey().center]:!s}),children:(()=>{if(s)return s.city;switch(l){case c.spb:return c.spb;case c.msk:return c.msk;default:return""}})()}),(0,b.jsx)("span",{className:ey().date,children:a()}),s&&(0,b.jsxs)("span",{className:ey().guests,children:[s.guests," ",r()]})]}),(0,b.jsx)(ex,{className:ey().icon})]})]})}(l=c||(c={})).spb="Санкт-Петербург",l.msk="Москва";var ek=s(11393),ew=s.n(ek);function eN(){return(eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var eC=e=>z.createElement("svg",eN({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),u||(u=z.createElement("path",{stroke:"#8E99AF",strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 8.5v2m0 2v-2m2 0h2m-4 0h-9M5.5 7.5v-2m0-2v2m2 0h7m-9 0h-4"}))),eS=s(69889),eM=s.n(eS),eO=s(71857),eD=s(42241),eH=s.n(eD);function eE(e){let{className:t,name:s,isChecked:l,handleClickFilter:r}=e;return(0,b.jsxs)("div",{className:H()(eH().root,t),onClick:r(l,s),children:[(0,b.jsx)("span",{className:eH().text,children:s}),(0,b.jsx)("label",{children:(0,b.jsx)("input",{className:eH().checkbox,type:"checkbox",name:"agree",checked:l,onChange:()=>{}})})]})}function eF(e){let{title:t,items:s,selectedFilters:l,handleClickFilter:r,setOpenMobileFilters:a,isMSK:n}=e,i=(0,er.GS)(ea.Mq),[o,c]=j.useState(!1);return(0,b.jsxs)("div",{className:H()(eM().root,{[eM().msk]:n},{[eM().hover]:o}),onMouseLeave:()=>!i&&c(!1),onClick:()=>{i&&a({isOpen:!0,filterName:t})},children:[(0,b.jsxs)("div",{className:H()(eM().title,{[eM().hover]:o}),onMouseEnter:()=>!i&&c(!0),children:[(0,b.jsx)("span",{children:t}),(0,b.jsx)(eO.Z,{className:H()(eM().arrow,{[eM().hover]:o})})]}),(0,b.jsx)(ep,{className:H()(eM().items,{[eM().hover]:o}),children:s.map((e,t)=>(0,b.jsx)(eE,{name:e,isChecked:l.includes(e),handleClickFilter:r},t))})]})}var eI=s(34109);(r=d||(d={})).stars="Звездность",r.food="Питание",r.metro="Метро",r.attractions="Знаковые места",r.railways="Вокзалы",r.streets="Улицы поблизости",r.beds="Мест в номере",r.kids="С детьми",r.pets="С питомцами",r.business="Командировка",r.transfer="Трансфер",r.amenities="В отеле",r.services="Услуги",(a=_||(_={})).checkbox="checkbox",a.switch="switch";let eP=[{title:"Звездность",type:"checkbox",items:[eI.W.star3,eI.W.star4]},{title:"Питание",type:"checkbox",items:["Завтрак","\xabШведский стол\xbb"]},{title:"Метро",type:"checkbox",items:["Адмиралтейская","Невский проспект / Гостиный двор","Площадь Ал. Невского / Площадь Ал. Невского","Площадь Восстания / Маяковская","Садовая / Сенная / Спасская","Чернышевская"]},{title:"Знаковые места",type:"checkbox",items:["Эрмитаж","Мариинский театр","Летний сад","Русский музей","Исаакиевский собор","Кунсткамера","Медный всадник","Казанский собор","Дворцовая площадь","Спас на Крови","Новая Голландия","Юсуповский дворец","Дворцовый мост","Музей Фаберже","Александринский театр","Михайловский замок","Анненкирхе","Смольный собор","Троицкий мост","Аничков мост","Пять углов","Мариинский концертный зал","Юсуповский сад","ТРЦ Галерея"]},{title:"Вокзалы",type:"checkbox",items:["Московский (Сапсан)","Балтийский (Петергоф)","Витебский (Пушкин, Павловск)","Финляндский (Выборг)"]},{title:"Улицы поблизости",type:"checkbox",items:["Невский проспект","Садовая","Рубинштейна","Пушкинская","Правды","Некрасова","Набережная Фонтанки","Марата","Литейный проспект","Лиговский проспект","Канал Грибоедова","Джона Леннона","Большая Морская","Синопская набережная"]},{title:"Мест в номере",type:"checkbox",items:["1","2","3","4"]},{title:"С детьми",type:"switch",items:["С детьми"]},{title:"С питомцами",type:"switch",items:["С питомцами"]},{title:"Командировка",type:"switch",items:["Командировка"]},{title:"Трансфер",type:"switch",items:["Трансфер"]},{title:"В отеле",type:"checkbox",items:["Wi-Fi","Телевизор","Сейф*","Рабочий стол*","Кухонная зона","Холодильник","Электрический чайник","Душ","Ванна*","Стиральная машина*","Прачечная","Фен","Кондиционер","Балкон*","Лифт","Парковка (ограничено)"],popUp:{item:"Парковка (ограничено)",text:`Парковочных мест ограниченное количество. Пожалуйста, бронируйте их заранее по телефону <br/><b><a href="tel:+78005054990">+7 (800) 505–49–90</a></b>`}},{title:"Услуги",type:"checkbox",items:["Круглосуточное заселение","Круглосуточное обслуживание","Дополнительное спальное место","Детская кроватка","Доставка еды и напитков в номер","Хранение багажа","Экскурсии","Музеи"]}],eA=[{title:"Звездность",type:"checkbox",items:[eI.W.star3]},{title:"Метро",type:"checkbox",items:["Комсомольская","Площадь трёх вокзалов","Курская","Красные ворота","Китай-город","Ленинградский вокзал","Таганская","Бауманская","Театральная","Чистые пруды"]},{title:"Вокзалы",type:"checkbox",items:["Казанский","Ленинградский","Ярославский","Курский"]},{title:"Знаковые места",type:"checkbox",items:["Красная площадь","Парк Зарядье","Московский Кремль","ВШЭ","Большой театр","Институт мозга","ЦУМ","Artplay","Нулевой километр","Дом Утюг","Дом-яйцо","Лобное место","Парящий мост"]},{title:"Улицы поблизости",type:"checkbox",items:["Большая Лубянка","Земляной Вал","Космодамианская набережная","Котельническая набережная","Моховая","Мясницкая","Петровка","Покровка","Проспект Мира","Рождественский бульвар","Садовое кольцо","Театральный проезд","Чистопрудный бульвар","Яуза"]},{title:"Мест в номере",type:"checkbox",items:["1","2"]},{title:"С детьми",type:"switch",items:["С детьми"]},{title:"С питомцами",type:"switch",items:["С питомцами"]},{title:"Командировка",type:"switch",items:["Командировка"]},{title:"Трансфер",type:"switch",items:["Трансфер"]},{title:"В отеле",type:"checkbox",items:["Wi-Fi","Телевизор","Сейф*","Кухонная зона","Холодильник","Электрический чайник","Душ","Прачечная","Фен","Парковка (ограничено)"],popUp:{item:"Парковка (ограничено)",text:`Парковочных мест ограниченное количество. Пожалуйста, бронируйте их заранее по телефону <b><a href="tel:+78005054990">+7 (800) 505–49–90</a></b>`}},{title:"Услуги",type:"checkbox",items:["Круглосуточное заселение","Дополнительное спальное место","Экскурсии","Музеи"]}];function ez(e){let{openFilters:t,selectedFilters:s,handleClickFilter:l,setOpenMobileFilters:r,cityPage:a}=e,n=[d.stars,d.food,d.metro,d.attractions].map(e=>eP.find(t=>t.title===e)).filter(Boolean),i=[d.stars,d.metro,d.railways,d.attractions].map(e=>eA.find(t=>t.title===e)).filter(Boolean),o=a===c.msk,u=o?i:n;return(0,b.jsx)("div",{className:ew().root,children:(0,b.jsxs)("div",{className:ew().wrapper,children:[(0,b.jsxs)("div",{className:ew().all_filters_button,onClick:t,role:"button",children:[(0,b.jsx)(eC,{}),(0,b.jsx)("span",{children:"Все фильтры"})]}),(0,b.jsx)("div",{className:ew().filters,children:u.map((e,t)=>{if(e)return(0,b.jsx)(eF,{title:e.title,items:e.items,selectedFilters:s,handleClickFilter:l,setOpenMobileFilters:r,isMSK:o},t)})})]})})}var eL=s(60892),eR=s.n(eL);function eW(e){let{selectedFilters:t,removeFilter:s,clearFilters:l,amount:r}=e;return(0,b.jsxs)("div",{className:eR().root,children:[(0,b.jsxs)("span",{className:eR().title,children:["Есть ",r," подходящих вариантов:"]}),t.length>0&&(0,b.jsxs)("div",{className:eR().filters_wrapper,children:[(0,b.jsx)("span",{className:eR().selected_title,children:"Выбранные фильтры:"}),t.map((e,t)=>(0,b.jsx)("span",{className:eR().filter,onClick:s(e),children:e},t)),(0,b.jsx)("span",{className:eR().filter,onClick:l,children:"Сбросить"})]})]})}var eB=s(81937),eV=s(47752),e$=s(20339);function eq(e){let{hotels:t,filterTL:s,isOpenFilters:l,openFilters:r,selectedFilters:a,removeFilter:n,clearFilters:i,handleClickFilter:o,selectedHotelID:u,setHoverHotelID:d,setSelectedCity:_,hoverHotelID:h,openModal:p,isOpenMapMobile:m,handleOpenMapMobile:v,queryParams:y,cityPage:f}=e,[x,g]=j.useState({isOpen:!1,filterName:""}),k=(f===c.msk?eA:eP).find(e=>e.title===x.filterName),w=j.useCallback(()=>{window&&!m&&window.scrollTo(0,0),v()},[m,v]);(0,ej.usePathname)();let C=j.useCallback(()=>{if(s)switch(s.city){case c.spb:return"АПАРТ-ОТЕЛИ 3* И 4* В ЦЕНТРЕ В САНКТ-ПЕТЕРБУРГЕ";case c.msk:return"АПАРТ-ОТЕЛИ 3* В ЦЕНТРЕ В МОСКВЕ";default:return"Апарт-отлеи 3* и 4* в Санкт-Петербурге и Москве в центре"}switch(f){case c.spb:return"АПАРТ-ОТЕЛИ 3* И 4* В ЦЕНТРЕ В САНКТ-ПЕТЕРБУРГЕ";case c.msk:return"АПАРТ-ОТЕЛИ 3* В ЦЕНТРЕ В МОСКВЕ";default:return"Апарт-отели 3* и 4* в Санкт-Петербурге и Москве в центре"}},[f,s]);return(0,b.jsxs)("div",{className:H()(N().root,{[N().map_active]:m},{[N().filters_active]:l}),children:[(0,b.jsx)("h1",{className:N().title,children:C()}),(0,b.jsx)(eg,{openModal:p,filterTL:s,cityPage:f}),(0,b.jsx)(ez,{openFilters:r,selectedFilters:a,handleClickFilter:o,setOpenMobileFilters:g,cityPage:f}),(0,b.jsx)(eW,{selectedFilters:a,removeFilter:n,clearFilters:i,amount:t?t.length:0}),t&&(0,b.jsx)(em,{isOpenMapMobile:m,hotels:t,selectedHotelID:u,setSelectedCity:_,hoverHotelID:h,setHoverHotelID:d,queryParams:y}),(0,b.jsx)(eV.u,{isOpen:x.isOpen,close:()=>g({isOpen:!1,filterName:""}),mobileCloseIcon:!1,opacityBG:.3,children:(0,b.jsxs)("div",{className:N().mobile_filters_wrapper,children:[(0,b.jsx)(e$.P,{className:N().close,close:()=>g({isOpen:!1,filterName:""})}),(0,b.jsx)("div",{className:N().mobile_filters,children:k&&k.items.map((e,t)=>(0,b.jsx)(eE,{name:e,isChecked:a.includes(e),handleClickFilter:o},t))}),(0,b.jsx)(et.z,{green:!0,className:N().button,onClick:()=>g({isOpen:!1,filterName:""}),children:"Готово"})]})}),(0,b.jsxs)(et.z,{className:H()(N().mobile_button,{[N().map_active]:m}),onClick:w,xl:!0,purpleGradient:!0,children:[m&&(0,b.jsx)(eB.Z,{}),m?"К списоку отелей ":"На карте"]})]})}var eU=s(65853),eG=s.n(eU),eT=s(92522),eZ=s(86743),eY=s.n(eZ),eJ=s(34040),eK=s(13114),eX=s.n(eK);function eQ(e){let{title:t,address:s,slides:l,id:r,queryParams:a}=e;return(0,b.jsxs)(eo.default,{className:H()(eX().root),href:a.length>0?`/hotels/${eu(r)}/${ei.D[r]}?${a}`:`/hotels/${eu(r)}/${ei.D[r]}`,children:[(0,b.jsx)(W,{images:l,isActive:!0,isMapCard:!0}),(0,b.jsx)(K,{title:t}),(0,b.jsx)(T.Y,{text:s,location:"1",className:eX().location,hotelsSelect:!0}),(0,b.jsx)(en,{isHover:!0,isBalloon:!0})]})}function e0(e){let{item:t,ymapRef:s,selectedHotelID:l,setSelectedHotelID:r,hoverHotelID:a,setHoverHotelID:n,queryParams:i}=e,[o,c]=j.useState(),[u,d]=j.useState(!1),_=(0,er.GS)(ea.Mq),h=(0,er.GS)(ea.ai),{id:p,header:m,coordinates:v,address:y,imagesSmall:f,stars:x}=t,g=a?a===p:u,k=g?3:x===eI.W.star4?2:1,w=j.useCallback(()=>{if(h)switch(!0){case p===ec.h.ligovskiy:return[[0,0],[165,23]];case p===ec.h.sennaya:return[[0,0],[195,23]];case p===ec.h.gostiniyDvor:return[[0,0],[205,23]];case p===ec.h.moyka:return[[0,0],[148,23]];case p===ec.h.smolnyy:return[[0,0],[159,23]];case p===ec.h.nevskiy:return[[0,0],[175,23]];case p===ec.h.griboedov:return[[0,0],[187,23]];case p===ec.h.pokrovka:return[[0,0],[166,23]];case p===ec.h.angliyskiy:default:return[[0,0],[175,23]]}switch(!0){case p===ec.h.ligovskiy:return[[0,0],[272,40]];case p===ec.h.sennaya:return[[0,0],[319,40]];case p===ec.h.gostiniyDvor:return[[0,0],[336,40]];case p===ec.h.moyka:return[[0,0],[246,40]];case p===ec.h.smolnyy:return[[0,0],[264,40]];case p===ec.h.nevskiy:return[[0,0],[289,40]];case p===ec.h.griboedov:return[[0,0],[308,40]];case p===ec.h.pokrovka:return[[0,0],[301,40]];case p===ec.h.angliyskiy:default:return[[0,0],[281,40]]}},[p,h]),N=j.useCallback(()=>{let e=document.getElementsByClassName("ymaps-2-1-79-balloon")[0],t=eJ.createRoot(document.getElementById("balloon-content"));(e||t)&&(e.classList.add("hotels_balloon"),t.render((0,b.jsx)(eQ,{title:m,address:y,slides:f,queryParams:i,id:p})))},[y,f,m,i,p]),C=j.useCallback(()=>{N(),r(p),d(!0)},[p,r,N]),S=j.useCallback(()=>{d(!1),r("")},[r]);j.useEffect(()=>{o&&p===l&&o.balloon.close()},[i,o]);let M=s.templateLayoutFactory.createClass(`<div class="placemark_hotel">
                                <h2 class="placemark_hotel_header"><b>${m}</b></h2>
                                <div class="placemark_hotel_arrow"/>
                            </div>
                        `,{build:function(){M.superclass.build.call(this);let e=this.getParentElement().getElementsByClassName("placemark_hotel")[0];e.style.position="relative",e.style.fontSize=h?"1rem":"1.6rem",e.style.textTransform="uppercase",e.style.padding=h?"0.5rem 1rem":"1rem 2rem",e.style.borderRadius="1.8rem",e.style.background=g?"#1D5377":'url("/images/map/placemarkIcon.png") no-repeat',e.style.backgroundPosition=h?"3.5rem top":"3rem top",e.style.backgroundSize="contain",e.style.width="fit-content",e.style.whiteSpace="nowrap",e.style.color=g?"white":"#424753",e.style.height=g?"unset":h?"3rem":"5.5rem",this.getParentElement().getElementsByClassName("placemark_hotel_header")[0].style.opacity=g?"1":"0";let t=this.getParentElement().getElementsByClassName("placemark_hotel_arrow")[0];t.style.display=g?"unset":"none",t.style.position="absolute",t.style.width=h?"1rem":"2rem",t.style.height=h?"1rem":"2rem",t.style.transform="rotate(45deg)",t.style.background=g?"#1D5377":"white",t.style.zIndex="-1",t.style.bottom=h?"-0.5rem":"-1rem",t.style.left="4rem",this.getData().geoObject.events.add("mouseenter",()=>{a!==p&&n(p)}),this.getData().geoObject.events.add("mouseleave",()=>{n("")})}});return(0,b.jsx)(eT.ah,{geometry:v,properties:{balloonContent:'<div class="hotels_page_balloon_content" id="balloon-content"></div>'},options:{balloonMaxWidth:359,balloonMaxHeight:359,balloonPanelMaxMapArea:_?1/0:0,balloonAutoPan:!_,iconLayout:M,iconShape:{type:"Rectangle",coordinates:g?w():h?[[30,0],[70,23]]:[[30,0],[70,40]]},iconOffset:[-50,-50],zIndex:k,hideIconOnBalloonOpen:!1,balloonOffset:[0,-30]},modules:["geoObject.addon.balloon","geoObject.addon.hint"],onBalloonOpen:C,onBalloonClose:S,instanceRef:e=>c(e)})}s(92937);var e1=s(94701),e5=s.n(e1);function e2(e){let{className:t,children:s,instanceRef:l,disable:r=!1}=e,a=(0,er.GS)(ea.Mq),[n,i]=j.useState(!a),o=j.useCallback(e=>2===e.touches.length?i(!0):i(!1),[]);return j.useEffect(()=>{!r&&a&&l&&(n?l.behaviors.enable("drag"):l.behaviors.disable("drag"))},[a,n,l,r]),(0,b.jsx)("div",{className:H()(e5().root,t),onTouchStart:e=>o(e),children:s})}function e3(e){let{hotels:t,selectedHotelID:s,setSelectedHotelID:l,city:r,isOpenMapMobile:a,hoverHotelID:n,setHoverHotelID:i,queryParams:o}=e,u=(0,er.GS)(ea.ai),d=(0,er.GS)(ea.Mq),_=(0,er.GS)(ea.PJ),[h,p]=j.useState(),[m,v]=j.useState(),y=!d||d&&a,f=j.useCallback(e=>{switch(!0){case u&&e===c.spb:return[59.936644,30.335868];case u&&e===c.msk:return[55.77,37.629824];case d&&e===c.spb:return[59.93,30.336];case d&&e===c.msk:return[55.762816,37.639824];case _&&e===c.spb:return[59.94,30.336];case _&&e===c.msk:return[55.762816,37.639824];default:if(e===c.spb)return[59.94,30.35];if(e===c.msk)return[55.762816,37.639824]}return[0,0]},[_,u,d]);return j.useEffect(()=>{m?.setCenter(f(r)).then()},[r,d,u,f,m]),(0,b.jsx)("div",{className:eY().root,children:(0,b.jsx)(eT.Yy,{query:{apikey:"497feeb6-dc95-47ca-b1c3-75a4c310c9b7"},children:(0,b.jsx)(e2,{instanceRef:m,disable:d,children:y?(0,b.jsxs)(eT.D5,{width:"100%",height:"100%",defaultState:{center:f(r),zoom:u?12:13},instanceRef:e=>{e&&(e.behaviors.disable("scrollZoom"),v(e))},options:{yandexMapDisablePoiInteractivity:!0,suppressMapOpenBlock:!0,copyrightLogoVisible:!1,copyrightProvidersVisible:!1,copyrightUaVisible:!1},onLoad:e=>p(e),modules:["templateLayoutFactory","layout.ImageWithContent"],children:[!d&&(0,b.jsx)(eT.Ly,{options:{position:{right:27,bottom:360},size:"small"}}),t.map((e,t)=>{if(h)return(0,b.jsx)(e0,{item:e,ymapRef:h,selectedHotelID:s,setSelectedHotelID:l,hoverHotelID:n,setHoverHotelID:i,queryParams:o},t)})]}):(0,b.jsx)(b.Fragment,{})})})})}function e4(e){let{hotels:t,selectedHotelID:s,setSelectedHotelID:l,isOpenMapMobile:r,city:a,hoverHotelID:n,setHoverHotelID:i,queryParams:o}=e;return(0,b.jsxs)("div",{className:H()(eG().root,{[eG().active]:r}),children:[(0,b.jsx)(e3,{hotels:t,selectedHotelID:s,setSelectedHotelID:l,city:a,isOpenMapMobile:r,hoverHotelID:n,setHoverHotelID:i,queryParams:o}),(0,b.jsx)("div",{className:H()(eG().gradient,{[eG().active]:r})})]})}let e9=(e,t)=>{switch(!0){case e===eI.W.star3:return t.filter(e=>e!==eI.W.star4);case e===eI.W.star4:return t.filter(e=>e!==eI.W.star3);default:return t}},e7=(e,t)=>{switch(!0){case"1"===e:return t.filter(e=>"2"!==e&&"3"!==e&&"4"!==e);case"2"===e:return t.filter(e=>"1"!==e&&"3"!==e&&"4"!==e);case"3"===e:return t.filter(e=>"2"!==e&&"1"!==e&&"4"!==e);case"4"===e:return t.filter(e=>"2"!==e&&"3"!==e&&"1"!==e);default:return t}},e6=(e,t)=>e===eI.W.star3||e===eI.W.star4?e9(e,t):"1"===e||"2"===e||"3"===e||"4"===e?e7(e,t):t,e8=()=>{let[e,t]=j.useState([]),s=j.useCallback(e=>()=>{t(t=>[...e6(e,t),e])},[]),l=j.useCallback(e=>()=>{t(t=>t.filter(t=>t!==e))},[]),r=j.useCallback(()=>{t([])},[]),a=j.useCallback((e,t)=>()=>{e?l(t)():s(t)()},[s,l]);return{selectedFilters:e,removeFilter:l,clearFilters:r,handleClickFilter:a}};var te=s(24032),tt=s.n(te),ts=s(78577),tl=s.n(ts),tr=s(6323),ta=s.n(tr);function tn(e){let{isActive:t,setIsActive:s,setValue:l,items:r}=e,a=j.useCallback(e=>()=>{l(e)(),s(!1)},[s,l]);return(0,b.jsx)("div",{className:H()(ta().root,{[ta().active]:t}),children:(0,b.jsx)("ul",{children:r.map((e,t)=>(0,b.jsx)("li",{onClick:a(e),children:e},t))})})}var ti=s(92728);function to(){return(to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var tc=e=>z.createElement("svg",to({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 23"},e),h||(h=z.createElement("path",{fill:"#8E99AF",fillRule:"evenodd",d:"M7 .667a.5.5 0 0 0-1 0v1.25H2.25a1.5 1.5 0 0 0-1.5 1.5v17.25a1.5 1.5 0 0 0 1.5 1.5H19.5a1.5 1.5 0 0 0 1.5-1.5V3.417a1.5 1.5 0 0 0-1.5-1.5h-3.75V.667a.5.5 0 0 0-1 0v1.25H7zm13 6.5v-3.75a.5.5 0 0 0-.5-.5h-3.75v1.25a.5.5 0 0 1-1 0v-1.25H7v1.25a.5.5 0 0 1-1 0v-1.25H2.25a.5.5 0 0 0-.5.5v3.75zm-18.25 1H20v12.5a.5.5 0 0 1-.5.5H2.25a.5.5 0 0 1-.5-.5zm2.5 3a.5.5 0 0 1 .5-.5H6.5a.5.5 0 0 1 0 1H4.75a.5.5 0 0 1-.5-.5m5.25 0a.5.5 0 0 1 .5-.5h1.75a.5.5 0 0 1 0 1H10a.5.5 0 0 1-.5-.5m5.25 0a.5.5 0 0 1 .5-.5H17a.5.5 0 0 1 0 1h-1.75a.5.5 0 0 1-.5-.5m-10.5 5.25a.5.5 0 0 1 .5-.5H6.5a.5.5 0 0 1 0 1H4.75a.5.5 0 0 1-.5-.5m5.25 0a.5.5 0 0 1 .5-.5h1.75a.5.5 0 0 1 0 1H10a.5.5 0 0 1-.5-.5",clipRule:"evenodd"}))),tu=s(29703),td=s.n(tu),t_=s(83441),th=s.n(t_),tp=s(49740);s(23613),s(42413);var tm=s(39422),tv=s(3251),ty=s(39291),tf=s(43328),tx=s(39315),tb=s(30666);function tj(e){let{isActive:t,setIsActive:s,value:l,setValue:r}=e,[a,n]=j.useState(l),[i,o]=j.useState(0),[c,u]=a,d=j.useRef(null),_=e=>{if(a[0]&&!a[1]){let t=(0,tm.j)(e,a[0]);if(!(t<1)){o(t);return}}};j.useEffect(()=>{let e=setTimeout(()=>{let e=d.current?.querySelectorAll(".react-datepicker__day--in-range");e&&e.length>0&&(e[0].classList.add("first-in-range"),e[e.length-1].classList.add("last-in-range"))},0);return()=>clearTimeout(e)},[c,u]);let h=j.useCallback(e=>{let t=e%10,s=e%100;return 1===t&&11!==s?"ночь":t>=2&&t<=4&&(s<12||s>14)?"ночи":"ночей"},[]),p=i?`Заезд ${(0,eb.WU)(a[0],"dd MMMM",{locale:tp.Z})} - Выезд ${(0,eb.WU)((0,tv.E)(a[0],i),"dd MMMM",{locale:tp.Z})} (${i} ${h(i)})`:"Выберите дату заезда",m=e=>(0,ty._)(e)===(0,tf.N)(e);return(0,b.jsx)("div",{className:H()(td().root,{[td().active]:t}),ref:d,children:(0,b.jsxs)("div",{className:"datepicker_wrapper_hotels",children:[(0,b.jsx)(th(),{locale:"ru",inline:!0,selectsRange:!0,onSelect:()=>{},minDate:new Date,maxDate:(0,tx.z)((0,tb.V)(new Date),10),calendarStartDay:1,monthsShown:2,startDate:a[0],endDate:a[1],onChange:e=>{n(e),e[1]&&(r(e)(),s(!1))},showDisabledMonthNavigation:!0,onDayMouseEnter:e=>_(e),dayClassName:e=>m(e)?"last_day_of_month":""}),(0,b.jsxs)("div",{className:td().bottom,children:[(0,b.jsx)("span",{children:p}),(0,b.jsx)("span",{children:"Лучшие цены для 1 гостя за ночь "}),(0,b.jsx)("span",{children:"Цена может быть доступна при соблюдении специальных условий бронирования"})]})]})})}function tg(){return(tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}(0,t_.registerLocale)("ru",tp.Z);var tk=e=>z.createElement("svg",tg({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 25"},e),p||(p=z.createElement("path",{fill:"#8E99AF",d:"m17.834 13.8.323-.381zm-11.668 0 .324.381zm14.584 4.95c0-2.018-.945-3.933-2.593-5.331l-.647.762c1.447 1.228 2.24 2.874 2.24 4.569zm-1 0v1.5h1v-1.5zm-1.5 3H5.75v1h12.5zm-14-1.5v-1.5h-1v1.5zm1.593-6.831C4.196 14.817 3.25 16.732 3.25 18.75h1c0-1.695.793-3.34 2.24-4.568zM12 11.25c-2.297 0-4.512.773-6.157 2.169l.647.762c1.45-1.23 3.43-1.931 5.51-1.931zm6.157 2.169c-1.645-1.396-3.86-2.169-6.157-2.169v1c2.08 0 4.06.702 5.51 1.931zM5.75 21.75a1.5 1.5 0 0 1-1.5-1.5h-1a2.5 2.5 0 0 0 2.5 2.5zm14-1.5a1.5 1.5 0 0 1-1.5 1.5v1a2.5 2.5 0 0 0 2.5-2.5z"})),m||(m=z.createElement("circle",{cx:12,cy:7.25,r:4.5,stroke:"#8E99AF"}))),tw=s(6582),tN=s.n(tw),tC=s(46702),tS=s.n(tC);function tM(){return(tM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var tO=e=>z.createElement("svg",tM({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 13 3"},e),v||(v=z.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1 1.5h11"})));function tD(){return(tD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var tH=e=>z.createElement("svg",tD({xmlns:"http://www.w3.org/2000/svg",width:12,height:11,fill:"none"},e),y||(y=z.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 1v9M1 5.5h10"})));function tE(e){let{title:t,value:s,setValue:l,prevDisable:r,nextDisable:a}=e,n=j.useCallback(()=>{l(s-1)()},[l,s]),i=j.useCallback(()=>{l(s+1)()},[l,s]);return(0,b.jsxs)("div",{className:tS().counter_wrapper,children:[(0,b.jsx)("span",{className:tS().title,children:t}),(0,b.jsxs)("div",{className:tS().counter,children:[(0,b.jsx)("div",{className:H()(tS().counter_button,{[tS().disable]:r}),onClick:n,role:"button",children:(0,b.jsx)(tO,{className:tS().counter_icon})}),(0,b.jsx)("span",{children:s}),(0,b.jsx)("div",{className:H()(tS().counter_button,{[tS().disable]:a}),onClick:i,role:"button",children:(0,b.jsx)(tH,{className:tS().counter_icon})})]})]})}var tF=s(23588),tI=s.n(tF);let tP=["до 1 года","1 год","2 года","3 года","4 года","5 лет"];function tA(e){let{number:t,value:s,setValue:l,isValid:r}=e;return(0,b.jsxs)("div",{className:tI().root,children:[(0,b.jsxs)("span",{children:["Возраст ",t,"-ого ребенка"]}),(0,b.jsxs)("select",{name:"age",id:"age",onChange:l(t-1),className:H()({[tI().valid]:!s&&r}),children:[!s&&(0,b.jsx)("option",{value:"",disabled:!0,selected:!0,className:tI().disabled,children:"Выбрать"}),tP.map((e,t)=>(0,b.jsx)("option",{value:t,selected:t===s,children:e},t))]})]})}function tz(e){let{isActive:t,setIsActive:s,setValue:l,value:r}=e,[a,n]=j.useState(!1),[i,o]=j.useState(r),c=j.useCallback(e=>()=>{i.adult>=4&&e>i.adult||i.adult<=1&&e<i.adult||i.sum>=5&&e>i.adult||o(t=>({...t,adult:e,sum:t.children+e}))},[i]),u=j.useCallback(e=>()=>{if(i.children<=0&&e<i.children||i.sum>=5&&e>i.children)return;if(e<i.children)return o(t=>{let s=i.childrenAge.filter((t,s)=>s!==e);return{...t,children:e,sum:t.adult+e,childrenAge:s}});let t=[...i.childrenAge,null];o(s=>({...s,children:e,sum:s.adult+e,childrenAge:t})),n(!1)},[i]),d=j.useCallback(e=>t=>{o(s=>{let l=[...s.childrenAge];return l[e]=Number(t.target.value),{...s,childrenAge:l}})},[]),_=i.adult<=1,h=i.adult>=4||i.sum>=5,p=i.children<=0,m=i.sum>=5;return(0,b.jsxs)("div",{className:H()(tN().root,{[tN().active]:t}),children:[(0,b.jsx)("span",{className:tN().title,children:"Гости"}),(0,b.jsxs)("div",{className:tN().counters_wrapper,children:[(0,b.jsx)(tE,{title:"Взрослые",value:i.adult,setValue:c,prevDisable:_,nextDisable:h}),(0,b.jsx)(tE,{title:"Дети младше 6 лет",value:i.children,setValue:u,prevDisable:p,nextDisable:m})]}),(0,b.jsxs)("div",{className:tN().bottom,children:[(0,b.jsx)("div",{children:Array.from({length:i.children}).map((e,t)=>(0,b.jsx)(tA,{number:t+1,value:i.childrenAge[t],setValue:d,isValid:a},t))}),(0,b.jsx)(et.z,{className:tN().button,green:!0,onClick:()=>{if(i.childrenAge.includes(null)){n(!0);return}l(i),s(!1)},children:"Готово"})]})]})}var tL=s(44110),tR=s.n(tL);function tW(e){let{title:t,value:s,isActive:l,setIsActive:r,icon:a}=e;return(0,b.jsxs)("div",{className:H()(tR().root,{[tR().active]:l}),onClick:()=>r(e=>!e),children:[(0,b.jsx)("span",{className:H()(tR().title,tR().string),children:t}),(0,b.jsx)("span",{className:H()(tR().value,tR().string),children:s}),a]})}function tB(e){let{title:t,value:s,setValue:l,list:r,date:a,guests:n}=e,[i,o]=j.useState(!1),c=j.useRef(null),u=j.useCallback(()=>{switch(!0){case r:return(0,b.jsx)(eO.Z,{className:H()(tl().icon,tl().arrow,{[tl().active]:i})});case a:return(0,b.jsx)(tc,{className:H()(tl().icon)});case n:return(0,b.jsx)(tk,{className:H()(tl().icon)});default:return null}},[r,a,n,i]);j.useEffect(()=>{if(document&&i){let e=e=>{c.current&&(e.target===c.current||c.current.contains(e.target))||e.target.classList.contains("react-datepicker__day")||o(!1)};return document.addEventListener("click",t=>e(t)),()=>document.removeEventListener("click",t=>e(t))}},[i]);let d=r?s:s[0];return(0,b.jsxs)("div",{className:tl().root,ref:c,children:[(0,b.jsx)(tW,{title:t,value:d,isActive:i,setIsActive:o,icon:u()}),r&&(0,b.jsx)(tn,{isActive:i,setIsActive:o,setValue:l,items:[ti.cities.spb,ti.cities.msk]}),a&&(0,b.jsx)(tj,{isActive:i,setIsActive:o,value:s[1],setValue:l}),n&&(0,b.jsx)(tz,{isActive:i,setIsActive:o,setValue:l,value:s[1]})]})}function tV(e){let{closeModal:t,setTlFilter:s,selectedCity:l,setSelectedCity:r,selectedDate:a,setSelectedDate:n,selectedGuests:i,setSelectedGuests:o}=e,c=j.useCallback(e=>()=>{r(e)},[r]),u=j.useCallback(e=>()=>{n(e)},[n]),d=(0,eb.WU)(a[0],"dd.MM.yyyy"),_=(0,eb.WU)(a[1],"dd.MM.yyyy"),h=[{title:"Город",value:l,setValue:c,list:!0,date:!1,guests:!1},{title:"Дата заезда-выезда",value:[`${d} - ${_}`,a],setValue:u,list:!1,date:!0,guests:!1},{title:"Гости",value:[`${i.adult}  ${i.adult>1?"взрослых":"взрослый"},  ${i.children} ${1===i.children?"ребенок":"детей"}`,i],setValue:o,list:!1,date:!1,guests:!0}],p=j.useCallback(()=>{s(),t()},[t,s]);return(0,b.jsxs)("div",{className:tt().root,children:[(0,b.jsx)("span",{className:tt().title,children:"Изменить поиск:"}),(0,b.jsx)(e$.P,{close:t,className:tt().close_button}),(0,b.jsx)("div",{className:tt().inputs_wrapper,children:h.map((e,t)=>{let{title:s,value:l,setValue:r,list:a,date:n,guests:i}=e;return(0,b.jsx)(tB,{title:s,value:l,setValue:r,list:a,date:n,guests:i},t)})}),(0,b.jsx)(et.z,{className:tt().button,purple:!0,xl:!0,onClick:p,children:"Искать"})]})}var t$=s(68670),tq=s.n(t$),tU=s(25622),tG=s.n(tU);function tT(e){let{name:t,isChecked:s,handleClickFilter:l}=e;return(0,b.jsx)("div",{role:"checkbox","aria-checked":s,className:H()(tG().root,{[tG().active]:s}),onClick:l(s,t),children:(0,b.jsx)("span",{children:t})})}var tZ=s(96131),tY=s.n(tZ),tJ=s(2441),tK=s.n(tJ);function tX(e){let{value:t,isChecked:s,handleClickFilter:l}=e;return(0,b.jsx)("div",{className:H()(tK().root,{[tK().active]:s}),onClick:l(s,t),role:"switch","aria-checked":s,children:(0,b.jsx)("div",{className:H()(tK().toggle,{[tK().active]:s})})})}var tQ=s(55014),t0=s.n(tQ);function t1(e){let{title:t,className:s}=e;return(0,b.jsx)("span",{className:H()(t0().root,s),children:t})}function t5(e){let{title:t,selectedFilters:s,handleClickFilter:l}=e;return(0,b.jsxs)("div",{className:tY().root,children:[(0,b.jsx)(t1,{title:t}),(0,b.jsxs)("div",{className:tY().wrapper,children:[(0,b.jsx)(tX,{value:t,isChecked:s.includes(t),handleClickFilter:l}),(0,b.jsx)("span",{children:"Да"})]})]})}var t2=s(41922),t3=s.n(t2);function t4(e){let{children:t}=e,[s,l]=j.useState(!1),r=(0,er.GS)(ea.ai),a=t?.props?.items?.length>5;return(0,b.jsxs)("div",{className:t3().root,children:[(0,b.jsx)("div",{className:H()(t3().wrapper,{[t3().active]:s}),children:t}),a&&r&&(0,b.jsxs)("span",{className:t3().button,role:"button",onClick:()=>l(e=>!e),children:[s?"Скрыть":"Показать еще",(0,b.jsx)(eB.Z,{className:H()(t3().arrow,{[t3().active]:s})})]})]})}var t9=s(27604),t7=s.n(t9);function t6(){return(t6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var t8=e=>z.createElement("svg",t6({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 15 15"},e),f||(f=z.createElement("path",{fill:"#CDD2DE",d:"M7.5 0a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15"})),x||(x=z.createElement("path",{fill:"#fff",d:"M6.68 6h1.3v5h-1.3zm-.19-1.41a.65.65 0 0 1 .21-.49q.22-.21.6-.21t.61.21q.24.2.24.49t-.24.49q-.23.19-.61.19t-.6-.19a.65.65 0 0 1-.21-.49"})));function se(e){let{title:t,items:s,popUp:l,selectedFilters:r,handleClickFilter:a}=e,[n,i]=j.useState(!1);return(0,b.jsxs)("div",{className:t7().root,children:[(0,b.jsx)(t1,{title:t}),s&&s.map((e,t)=>(0,b.jsxs)("div",{className:t7().wrapper,children:[(0,b.jsx)(eE,{name:e,isChecked:r.includes(e),handleClickFilter:a}),l&&l.item===e&&(0,b.jsxs)("div",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:()=>i(e=>!e),children:[(0,b.jsx)(t8,{className:t7().icon}),(0,b.jsx)("p",{className:H()(t7().pop_up,{[t7().active]:n}),dangerouslySetInnerHTML:{__html:l.text}})]})]},t)),t===d.amenities&&(0,b.jsx)("span",{className:t7().footnote,children:"*Не во всех номерах"})]})}var st=s(94889),ss=s.n(st);function sl(e){let{clearFilters:t,close:s}=e;return(0,b.jsxs)("div",{className:ss().root,children:[(0,b.jsx)(et.z,{className:ss().clear,onClick:t,children:(0,b.jsx)("span",{children:"Сбросить все"})}),(0,b.jsx)(et.z,{className:ss().apply,onClick:s,green:!0,xl:!0,children:"Применить"})]})}function sr(e){let{isOpen:t,close:s,clearFilters:l,selectedFilters:r,handleClickFilter:a,cityPage:n}=e,i=n===c.msk?eA:eP;return(0,b.jsx)("div",{className:H()(tq().root,{[tq().active]:t}),children:(0,b.jsxs)("div",{className:tq().wrapper,children:[(0,b.jsx)(e$.P,{close:s,className:tq().close}),(0,b.jsx)("div",{className:tq().tags,children:i[0].items?.map((e,t)=>b.jsx(tT,{name:e,isChecked:r.includes(e),handleClickFilter:a},t))}),(0,b.jsx)(ep,{className:tq().filters,children:(0,b.jsx)("div",{className:tq().filters_wrapper,children:i.map((e,t)=>{let{title:s,type:l,items:n,popUp:i}=e;if(!(t<1)){if(l===_.checkbox)return(0,b.jsx)(t4,{children:(0,b.jsx)(se,{title:s,items:n,popUp:i,selectedFilters:r,handleClickFilter:a},t)},t);if(l===_.switch)return(0,b.jsx)(t4,{children:(0,b.jsx)(t5,{title:s,selectedFilters:r,handleClickFilter:a})},t)}})})}),(0,b.jsx)(sl,{clearFilters:l,close:s})]})})}let sa=()=>{let[e,t]=j.useState(!1),[s,l]=j.useState(!1),[r,a]=j.useState(!1),n=j.useCallback(()=>{t(!0)},[]),i=j.useCallback(()=>{t(!1)},[]);return{isOpenModal:e,isOpenFilters:s,isOpenMapMobile:r,openModal:n,closeModal:i,openFilters:j.useCallback(()=>{l(!0)},[]),closeFilters:j.useCallback(()=>{l(!1)},[]),handleOpenMapMobile:j.useCallback(()=>{a(e=>(document&&(document.body.style.overflowY=e?"auto":"hidden"),!e))},[])}},sn=e=>{let[t,s]=j.useState(null),[l,r]=j.useState(""),a=new Date,n=(0,tv.E)(a,1),[i,o]=j.useState(e),[c,u]=j.useState([a,n]),[d,_]=j.useState({adult:2,children:0,sum:2,childrenAge:[]}),h=j.useCallback(()=>{s({city:i,date:[(0,eb.WU)(c[0],"yyyy-MM-dd"),(0,eb.WU)(c[1],"yyyy-MM-dd")],guests:d.sum,adult:d.adult,children:d.children,childrenAge:d.childrenAge})},[i,c,d.adult,d.children,d.childrenAge,d.sum,s]);return j.useEffect(()=>{if(!t)return;let e={date:t?.date[0],nights:(0,tm.j)(t?.date[1],t?.date[0]).toString(),adults:t?.adult.toString(),"children-age":t.childrenAge.join(";")};r(new URLSearchParams(e).toString())},[t]),{filterTL:t,setTlFilter:h,selectedCity:i,setSelectedCity:o,selectedDate:c,setSelectedDate:u,selectedGuests:d,setSelectedGuests:_,queryParams:l}};function si(e){let{city:t,hotels:s}=e;t=t||c.spb;let l=(0,er.GS)(ea.ai),[r,a]=j.useState(null),[n,i]=j.useState(""),[o,u]=j.useState(""),{isOpenModal:d,isOpenFilters:_,isOpenMapMobile:h,openModal:p,closeModal:m,openFilters:v,closeFilters:y,handleOpenMapMobile:f}=sa(),{selectedFilters:x,removeFilter:g,clearFilters:w,handleClickFilter:N}=e8(),{filterTL:C,setTlFilter:S,selectedCity:M,setSelectedCity:O,selectedDate:D,setSelectedDate:H,selectedGuests:E,setSelectedGuests:F,queryParams:I}=sn(t),P=j.useCallback((e,s,l)=>e?e.filter(e=>(!l||e.city===l.city)&&(!!l||!t||e.city===t)&&s.every(t=>isNaN(Number(t))?e.stars===t||e.services.includes(t)||e.locations.includes(t):e.people>=Number(t))):e,[t]),A=C?.city?C.city:t;return j.useEffect(()=>{s&&a(P(s,x,C))},[x,s,P,C]),(0,b.jsxs)("section",{className:k().root,children:[(0,b.jsx)(eq,{hotels:r,filterTL:C,isOpenFilters:_,openFilters:v,selectedFilters:x,removeFilter:g,clearFilters:w,handleClickFilter:N,selectedHotelID:n,setHoverHotelID:u,setSelectedCity:O,hoverHotelID:o,openModal:p,isOpenMapMobile:h,handleOpenMapMobile:f,queryParams:I,cityPage:A}),(0,b.jsx)(sr,{isOpen:_,close:y,selectedFilters:x,handleClickFilter:N,clearFilters:w,cityPage:A}),r&&(0,b.jsx)(e4,{isOpenMapMobile:h,hotels:r,city:M,selectedHotelID:n,setSelectedHotelID:i,hoverHotelID:o,setHoverHotelID:u,queryParams:I}),(0,b.jsx)(eV.u,{isOpen:d,close:m,opacityBG:l?0:.4,mobileCloseIcon:!1,notDelayed:l,children:(0,b.jsx)(tV,{closeModal:m,setTlFilter:S,selectedCity:M,setSelectedCity:O,selectedDate:D,setSelectedDate:H,selectedGuests:E,setSelectedGuests:F})})]})}},92728:function(e,t,s){"use strict";var l,r,a,n;s.d(t,{attributes:function(){return l},cities:function(){return r}}),(a=l||(l={})).all="Все объекты",a.kids="Можно с детьми",a.pets="Можно с питомцами",a.breakfast="С завтраком",a.buffet="\xabШведский стол\xbb",a.star3="Отели 3",a.star4="Отели 4",(n=r||(r={})).spb="Санкт-Петербург",n.msk="Москва"},92937:function(){},23613:function(){},67090:function(){},94889:function(e){e.exports={root:"style_root__8Yk_A",apply:"style_apply__LeDWg",clear:"style_clear__a8Fvx"}},25622:function(e){e.exports={root:"style_root__JDIIU",active:"style_active__rqdkR"}},27604:function(e){e.exports={root:"style_root__70mwm",wrapper:"style_wrapper__OhjlC",icon:"style_icon__x7Oy7",pop_up:"style_pop_up__NbXwi",active:"style_active__hg4jl",footnote:"style_footnote___pZEe"}},96131:function(e){e.exports={root:"style_root__umeVd",wrapper:"style_wrapper__Y5_BF"}},41922:function(e){e.exports={root:"style_root__wxhAv",wrapper:"style_wrapper__VHbz5",active:"style_active___ib2R",button:"style_button__RAjIy",arrow:"style_arrow__2B3Ht"}},55014:function(e){e.exports={root:"style_root__pd5HM"}},2441:function(e){e.exports={root:"style_root__Nf2MX",active:"style_active__qZhBs",toggle:"style_toggle__j692M"}},68670:function(e){e.exports={root:"style_root__XrR_X",active:"style_active__vmNL2",wrapper:"style_wrapper__nw6qf",close:"style_close__Z2c41",filters:"style_filters__zjyCe",filters_wrapper:"style_filters_wrapper__6ja0J",tags:"style_tags__c9uMa"}},99931:function(e){e.exports={root:"style_root__Ah2Dh"}},13114:function(e){e.exports={root:"style_root__SWmTU",location:"style_location__NK09X"}},86743:function(e){e.exports={root:"style_root__2UzxK"}},65853:function(e){e.exports={root:"style_root__g_lte",active:"style_active__j_Ox8",gradient:"style_gradient__AwkiZ"}},46702:function(e){e.exports={title:"style_title__kF563",counter:"style_counter__bjm3s",counter_icon:"style_counter_icon__gNt5x",counter_button:"style_counter_button__9UUmA",disable:"style_disable__bdhRs"}},78577:function(e){e.exports={root:"style_root__uogk_",icon:"style_icon__nkVsk",arrow:"style_arrow__1nixM",active:"style_active__YJxwh"}},44110:function(e){e.exports={root:"style_root__Rdb_O",active:"style_active__FRpWV",title:"style_title__YI1uv",value:"style_value__VATk9",string:"style_string__Yv_eU"}},6582:function(e){e.exports={root:"style_root__tNTvS",active:"style_active__car5h",title:"style_title__vRPTX",counters_wrapper:"style_counters_wrapper__ES92_",bottom:"style_bottom__vzbzd",select_wrapper:"style_select_wrapper__tJ99f",button:"style_button__gHnYg"}},29703:function(e){e.exports={root:"style_root__6yGch",active:"style_active__ZjcVh",bottom:"style_bottom__wvrHT"}},6323:function(e){e.exports={root:"style_root__xncHH",active:"style_active__c2Q9k"}},23588:function(e){e.exports={root:"style_root__qRsS1",valid:"style_valid__ZN7ek",disabled:"style_disabled__gaQRh"}},24032:function(e){e.exports={root:"style_root__wjKQ3",title:"style_title__AZd9K",inputs_wrapper:"style_inputs_wrapper__RqFQz",button:"style_button__l1nfG",close_button:"style_close_button__ta04O"}},4338:function(e){e.exports={root:"style_root__N8mxx",amenities:"style_amenities__qS9z8"}},58924:function(e){e.exports={root:"style_root__O2V94",location_2:"style_location_2__GoePZ"}},75803:function(e){e.exports={root:"style_root__C2_YP",balloon:"style_balloon__U9Iso",price:"style_price__zCEpF",button:"style_button__gMJi_",hover:"style_hover__fGxkl"}},15864:function(e){e.exports={root:"style_root__4cO7K",map_card:"style_map_card__9kK5K",slider:"style_slider__iSwL_",slide:"style_slide__XyRs1",arrow:"style_arrow__huCHx",active:"style_active__zC7D4",prev:"style_prev__UpIf1",next:"style_next__4cYVj"}},39569:function(e){e.exports={root:"style_root__j9W0V"}},82901:function(e){e.exports={root:"style_root__eS5rT",hover:"style_hover__2B8zF"}},60509:function(e){e.exports={root:"style_root__RkpJv",map_active:"style_map_active__IeP7a",cards_wrapper:"style_cards_wrapper__aHrwU",gradient:"style_gradient__T_UTw"}},42241:function(e){e.exports={root:"style_root__2Jb4E",text:"style_text__dmSkH",checkbox:"style_checkbox__WL9Jm"}},69889:function(e){e.exports={root:"style_root__DwnrD",hover:"style_hover__cVARE",msk:"style_msk__HfPRr",title:"style_title__ZVV2r",arrow:"style_arrow_____NR",items:"style_items__2SOv4"}},11393:function(e){e.exports={root:"style_root__1GiDQ",wrapper:"style_wrapper__IOnwG",all_filters_button:"style_all_filters_button__nK4Dt",filters:"style_filters__ZM_cZ"}},86724:function(e){e.exports={root:"style_root__9Pygg"}},46783:function(e){e.exports={root:"style_root__2Et3K",title:"style_title__S5dVQ",search:"style_search__BqLkn",city:"style_city___Jdfe",center:"style_center__RRWmI",guests:"style_guests__O5Ibm",icon:"style_icon__pXpiw"}},60892:function(e){e.exports={root:"style_root__hoYFX",title:"style_title__NOmon",filters_wrapper:"style_filters_wrapper__vCg_b",selected_title:"style_selected_title___XJBi",filter:"style_filter__oXls7"}},57967:function(e){e.exports={root:"style_root__4pwrZ",map_active:"style_map_active__d_WVb",filters_active:"style_filters_active__KgU4H",title:"style_title__sBomS",mobile_button:"style_mobile_button___SBcG",mobile_filters_wrapper:"style_mobile_filters_wrapper__LYhm_",close:"style_close__AeJDt",button:"style_button__qmAkw",mobile_filters:"style_mobile_filters__vU12R"}},94701:function(e){e.exports={root:"style_root__v4r7W"}}}]);