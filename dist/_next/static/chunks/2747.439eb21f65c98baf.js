(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2747],{92522:function(e,t,n){"use strict";n.d(t,{D5:function(){return P},Ly:function(){return D},Yy:function(){return f},ah:function(){return T}});var o=n(2265);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}let a=(e,t)=>{let n={};for(let o in e)-1===t.indexOf(o)&&(n[o]=e[o]);return n},r=o.createContext(null),l=o.createContext(null),i=e=>t=>o.createElement(l.Consumer,null,n=>o.createElement(e,s({parent:n},t))),c=(e=[])=>{let[t,n]=(0,o.useState)(!1),s=(0,o.useRef)(e),a=(()=>{let e=(0,o.useContext)(r);if(null===e)throw Error("Couldn't find Yandex.Maps API in the context. Make sure that hook useYMaps is inside <YMaps /> provider");return e})(),l=a.getApi();return(0,o.useEffect)(()=>{a.load().then(()=>Promise.all(s.current.map(a.loadModule))).then(()=>n(!0))},[]),t&&l?l:null},u=()=>{},p=["onLoad","onError","modules","apiLoader"];function d(e,t=!1,n=[]){return r=>{let{width:l,height:i,modules:d=[],onLoad:m=u}=r,b=c(n.concat(d)),f=!t||!!b,h=a(r,p);return(0,o.useEffect)(()=>b?m(b):void 0,[b]),f?o.createElement(e,s({ymaps:b},h)):o.createElement("div",{style:{width:l,height:i}})}}let m="undefined"!=typeof window,b={lang:"ru_RU",load:"",ns:"",mode:"release"},f=e=>{let{version:t="2.1",enterprise:n=!1,query:s={lang:"ru_RU",load:"",ns:""},preload:a=!1,children:l}=e,i=(0,o.useRef)((e=>{let t;let{query:n=b}=e,o=Date.now().toString(32),s=n.ns||"",a="__yandex-maps-api-onload__$$"+o,r="__yandex-maps-api-onerror__$$"+o,l=m?window:{},i={},c=()=>s?l[s]:t,u=()=>{delete l[a],delete l[r]};return{load:()=>{if(c())return Promise.resolve(t);if(i[s])return i[s];let o={onload:a,onerror:r,...b,...n},p=Object.keys(o).map(e=>`${e}=${o[e]}`).join("&"),d=[`https://${e.enterprise?"enterprise.":""}api-maps.yandex.ru`,e.version,"?"+p].join("/");return i[s]=new Promise((e,n)=>{l[a]=n=>{u(),n.ready(()=>{t=n,e(n)})},l[r]=e=>{u(),n(e)},new Promise((e,t)=>{let n=document.createElement("script");n.type="text/javascript",n.onload=e,n.onerror=t,n.src=d,n.async=!0,document.head.appendChild(n)}).catch(l[r])}),i[s]},getApi:c,loadModule:e=>new Promise((n,o)=>{t.modules.require(e).done(o=>{o.forEach(n=>{((e,t,n,o=!1)=>{let s="string"==typeof t?t.split("."):t.slice(),a,r=e;for(;s.length>1;)r[a=s.shift()]||(r[a]={}),r=r[a];let l=s[0];r[l]=!0===o&&r[l]||n})(t,e,n,!0)}),n(t)},o)})}})({version:t,enterprise:n,query:s,preload:a}));return(0,o.useEffect)(()=>{a&&i.current.load()},[i.current]),o.createElement(r.Provider,{value:i.current},l)},h=/^on(?=[A-Z])/;function _(e){return Object.keys(e).reduce((t,n)=>{if(h.test(n)){let o=n.replace(h,"").toLowerCase();t._events[o]=e[n]}else t[n]=e[n];return t},{_events:{}})}function y(e,t,n){"function"==typeof n&&e.events.add(t,n)}function g(e,t,n){"function"==typeof n&&e.events.remove(t,n)}function v(e,t,n){Object.keys(Object.assign({},t,n)).forEach(o=>{t[o]!==n[o]&&(g(e,o,t[o]),y(e,o,n[o]))})}let j=e=>"default"+e.charAt(0).toUpperCase()+e.slice(1);function x(e,t){return void 0!==e[t]||void 0===e[j(t)]}function k(e,t,n){return(x(e,t)?e[t]:e[j(t)])||n}function O(e,t,n=null){e!==t&&(e&&("current"in e?e.current=null:"function"==typeof e&&e(null)),t&&("current"in t?t.current=n:"function"==typeof t&&t(n)))}function E(e){let{width:t,height:n,style:o,className:s}=e;return void 0!==o||void 0!==s?Object.assign({},o&&{style:o},s&&{className:s}):{style:{width:t,height:n}}}class C extends o.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){let{onError:n=()=>{}}=this.props;n(e),this.setState({error:e,errorInfo:t})}render(){return this.state.error?null:this.props.children}}let w=e=>({onError:t,...n})=>o.createElement(C,{onError:t},o.createElement(e,n));class R extends o.Component{constructor(){super(),this.instance=null,this.state={instance:null},this._parentElement=null,this._getRef=e=>{this._parentElement=e}}componentDidMount(){this.instance=R.mountObject(this._parentElement,this.props.ymaps.Map,this.props),this.setState({instance:this.instance})}componentDidUpdate(e){null!==this.instance&&R.updateObject(this.instance,e,this.props)}componentWillUnmount(){R.unmountObject(this.instance,this.props)}render(){let e=E(this.props),t=a(_(this.props),["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return o.createElement(l.Provider,{value:this.state.instance},o.createElement("div",s({ref:this._getRef},e,t),this.props.children))}static mountObject(e,t,n){let{instanceRef:o,_events:s}=_(n),a=new t(e,k(n,"state"),k(n,"options"));return Object.keys(s).forEach(e=>y(a,e,s[e])),O(null,o,a),a}static updateObject(e,t,n){let{_events:o,instanceRef:s}=_(n),{_events:a,instanceRef:r}=_(t);if(x(n,"state")){let o=k(t,"state",{}),s=k(n,"state",{});o.type!==s.type&&e.setType(s.type),o.behaviors!==s.behaviors&&(o.behaviors&&e.behaviors.disable(o.behaviors),s.behaviors&&e.behaviors.enable(s.behaviors)),s.zoom&&o.zoom!==s.zoom&&e.setZoom(s.zoom),s.center&&o.center!==s.center&&e.setCenter(s.center),s.bounds&&o.bounds!==s.bounds&&e.setBounds(s.bounds)}if(x(n,"options")){let o=k(t,"options"),s=k(n,"options",{});o!==s&&e.options.set(s)}k(t,"width")===k(n,"width")&&k(t,"height")===k(n,"height")||e.container.fitToViewport(),v(e,a,o),O(r,s,e)}static unmountObject(e,t){let{instanceRef:n,_events:o}=_(t);null!==e&&(Object.keys(o).forEach(t=>g(e,t,o[t])),e.destroy(),O(n))}}let P=w(d(R,!0,["Map"]));P.defaultProps={width:320,height:240};class S extends o.Component{constructor(){super(),this.state={instance:null},this._parentElement=null,this._getRef=e=>{this._parentElement=e}}componentDidMount(){this._mounted=!0,this.props.ymaps.panorama.isSupported()&&S.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(e=>this._mounted&&this.setState({instance:e}))}componentDidUpdate(e){null!==this.state.instance&&S.updateObject(this.state.instance,e,this.props)}componentWillUnmount(){this._mounted=!1,S.unmountObject(this.state.instance,this.props)}render(){let e=E(this.props);return o.createElement("div",s({ref:this._getRef},e))}static mountObject(e,t,n){let{instanceRef:o,_events:s}=_(n),a=k(n,"point"),r=k(n,"locateOptions"),l=k(n,"options");return new Promise((n,i)=>{t.locate(a,r).done(a=>{if(a.length>0){let r=new t.Player(e,a[0],l);O(null,o,r),Object.keys(s).forEach(e=>y(r,e,s[e])),n(r)}},i)})}static updateObject(e,t,n){let{_events:o,instanceRef:s}=_(n),{_events:a,instanceRef:r}=_(t);if(x(n,"options")){let o=k(t,"options"),s=k(n,"options");o!==s&&e.options.set(s)}if(x(n,"point")){let o=k(n,"point"),s=k(t,"point"),a=k(n,"locateOptions");o!==s&&e.moveTo(o,a)}v(e,a,o),O(r,s,e)}static unmountObject(e,t){let{instanceRef:n,_events:o}=_(t);null!==e&&(Object.keys(o).forEach(t=>g(e,t,o[t])),O(n))}}w(d(S,!0,["panorama.isSupported","panorama.locate","panorama.createPlayer","panorama.Player"])).defaultProps={width:320,height:240};class M extends o.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){let e=M.mountControl(this.props.ymaps.control[this.props.name],this.props);this.instance=e,this.setState({instance:e})}componentDidUpdate(e){null!==this.instance&&M.updateControl(this.instance,e,this.props)}componentWillUnmount(){M.unmountControl(this.instance,this.props)}render(){return o.createElement(l.Provider,{value:this.state.instance},this.props.children)}static mountControl(e,t){let{instanceRef:n,parent:o,lazy:s,_events:a}=_(t),r=new e({data:k(t,"data"),options:k(t,"options"),state:k(t,"state"),mapTypes:k(t,"mapTypes"),lazy:s});if(Object.keys(a).forEach(e=>y(r,e,a[e])),o&&o.controls&&"function"==typeof o.controls.add)o.controls.add(r);else{if(!o||!o.add||"function"!=typeof o.add)throw Error(`No parent found to mount ${t.name}`);o.add(r)}return O(null,n,r),r}static updateControl(e,t,n){let{_events:o,instanceRef:s}=_(n),{_events:a,instanceRef:r}=_(t);if(x(n,"options")){let o=k(t,"options"),s=k(n,"options");o!==s&&e.options.set(s)}if(x(n,"data")){let o=k(t,"data"),s=k(n,"data");o!==s&&e.data.set(s)}if(x(n,"state")){let o=k(t,"state"),s=k(n,"state");o!==s&&e.state.set(s)}if(x(n,"mapTypes")){let o=k(t,"mapTypes"),s=k(n,"mapTypes");o!==s&&(e.removeAllMapTypes(),s.forEach(t=>e.addMapType(t)))}v(e,a,o),O(r,s,e)}static unmountControl(e,t){let{instanceRef:n,parent:o,_events:s}=_(t);null!==e&&(Object.keys(s).forEach(t=>g(e,t,s[t])),o.controls&&"function"==typeof o.controls.remove?o.controls.remove(e):o.remove&&"function"==typeof o.remove&&o.remove(e),O(n))}}w(i(d(e=>o.createElement(M,s({},e,{name:"Button"})),!0,["control.Button"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"FullscreenControl"})),!0,["control.FullscreenControl"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"GeolocationControl"})),!0,["control.GeolocationControl"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"ListBox"})),!0,["control.ListBox"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"ListBoxItem"})),!0,["control.ListBoxItem"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"RouteButton"})),!0,["control.RouteButton"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"RouteEditor"})),!0,["control.RouteEditor"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"RoutePanel"})),!0,["control.RoutePanel"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"RulerControl"})),!0,["control.RulerControl"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"SearchControl"})),!0,["control.SearchControl"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"TrafficControl"})),!0,["control.TrafficControl"]))),w(i(d(e=>o.createElement(M,s({},e,{name:"TypeSelector"})),!0,["control.TypeSelector"])));var D=w(i(d(e=>o.createElement(M,s({},e,{name:"ZoomControl"})),!0,["control.ZoomControl"])));class $ extends o.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){let e=$.mountObject(this.props.ymaps.Clusterer,this.props);this.instance=e,this.setState({instance:e})}componentDidUpdate(e){null!==this.state.instance&&$.updateObject(this.instance,e,this.props)}componentWillUnmount(){$.unmountObject(this.instance,this.props)}render(){return o.createElement(l.Provider,{value:this.state.instance},this.props.children)}static mountObject(e,t){let{instanceRef:n,parent:o,_events:s}=_(t),a=new e(k(t,"options"));if(Object.keys(s).forEach(e=>y(a,e,s[e])),o.geoObjects&&"function"==typeof o.geoObjects.add)o.geoObjects.add(a);else{if(!o.add||"function"!=typeof o.add)throw Error("No parent found to mount Clusterer");o.add(a)}return O(null,n,a),a}static updateObject(e,t,n){let{_events:o,instanceRef:s}=_(n),{_events:a,instanceRef:r}=_(t);if(x(n,"options")){let o=k(t,"options"),s=k(n,"options");o!==s&&e.options.set(s)}v(e,a,o),O(r,s,e)}static unmountObject(e,t){let{instanceRef:n,parent:o,_events:s}=_(t);null!==e&&(Object.keys(s).forEach(t=>g(e,t,s[t])),o.geoObjects&&"function"==typeof o.geoObjects.remove?o.geoObjects.remove(e):o.remove&&"function"==typeof o.remove&&o.remove(e),O(n))}}w(i(d($,!0,["Clusterer"])));class N extends o.Component{constructor(){super(),this.state={instance:null}}componentDidMount(){let e=N.mountObject(this.props.ymaps.ObjectManager,this.props);this.instance=e,this.setState({instance:e})}componentDidUpdate(e){null!==this.instance&&N.updateObject(this.instance,e,this.props)}componentWillUnmount(){N.unmountObject(this.instance,this.props)}render(){return null}static mountObject(e,t){let{instanceRef:n,parent:o,_events:s}=_(t),a=k(t,"options",{}),r=k(t,"features",{}),l=k(t,"filter",null),i=k(t,"objects",{}),c=k(t,"clusters",{}),u=new e(a);if(u.add(r||[]),u.setFilter(l),u.objects.options.set(i),u.clusters.options.set(c),Object.keys(s).forEach(e=>y(u,e,s[e])),o.geoObjects&&"function"==typeof o.geoObjects.add)o.geoObjects.add(u);else{if(!o.add||"function"!=typeof o.add)throw Error("No parent found to mount ObjectManager");o.add(u)}return O(null,n,u),u}static updateObject(e,t,n){let{_events:o,instanceRef:s}=_(n),{_events:a,instanceRef:r}=_(t);if(x(n,"options")){let o=k(t,"options"),s=k(n,"options");o!==s&&e.options.set(s)}if(x(n,"objects")){let o=k(t,"objects"),s=k(n,"objects");o!==s&&e.objects.options.set(s)}if(x(n,"clusters")){let o=k(t,"clusters"),s=k(n,"clusters");o!==s&&e.clusters.options.set(s)}if(x(n,"filter")){let o=k(t,"filter"),s=k(n,"filter");o!==s&&e.setFilter(s)}if(x(n,"features")){let o=k(t,"features"),s=k(n,"features");o!==s&&(e.remove(o),e.add(s))}v(e,a,o),O(r,s,e)}static unmountObject(e,t){let{instanceRef:n,parent:o,_events:s}=_(t);null!==e&&(Object.keys(s).forEach(t=>g(e,t,s[t])),o.geoObjects&&"function"==typeof o.geoObjects.remove?o.geoObjects.remove(e):o.remove&&"function"==typeof o.remove&&o.remove(e),O(n))}}w(i(d(N,!0,["ObjectManager"])));class L extends o.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){let{name:e,ymaps:t,dangerZone:n}=this.props,o=L.mountObject(n&&"function"==typeof n.modifyConstructor?n.modifyConstructor(t[e]):t[e],this.props);this.instance=o,this.setState({instance:o})}componentDidUpdate(e){null!==this.instance&&L.updateObject(this.instance,e,this.props)}componentWillUnmount(){L.unmountObject(this.instance,this.props)}render(){return null}static mountObject(e,t){let{instanceRef:n,parent:o,_events:s}=_(t),a=new e(k(t,"geometry"),k(t,"properties"),k(t,"options"));if(Object.keys(s).forEach(e=>y(a,e,s[e])),o&&o.geoObjects&&"function"==typeof o.geoObjects.add)o.geoObjects.add(a);else{if(!o||!o.add||"function"!=typeof o.add)throw Error(`No parent found to mount ${t.name}`);o.add(a)}return O(null,n,a),a}static updateObject(e,t,n){let{_events:o,instanceRef:s}=_(n),{_events:a,instanceRef:r}=_(t);if(x(n,"geometry")){let o=k(t,"geometry",{}),s=k(n,"geometry",{});Array.isArray(s)&&s!==o?Array.isArray(s[0])&&"number"==typeof s[1]?(e.geometry.setCoordinates(s[0]),e.geometry.setRadius(s[1])):e.geometry.setCoordinates(s):"object"==typeof s&&(s.coordinates!==o.coordinates&&e.geometry.setCoordinates(s.coordinates),s.radius!==o.radius&&e.geometry.setRadius(s.radius))}if(x(n,"properties")){let o=k(t,"properties"),s=k(n,"properties");o!==s&&e.properties.set(s)}if(x(n,"options")){let o=k(t,"options"),s=k(n,"options");o!==s&&e.options.set(s)}v(e,a,o),O(r,s,e)}static unmountObject(e,t){let{instanceRef:n,parent:o,_events:s}=_(t);null!==e&&(Object.keys(s).forEach(t=>g(e,t,s[t])),o.geoObjects&&"function"==typeof o.geoObjects.remove?o.geoObjects.remove(e):o.remove&&"function"==typeof o.remove&&o.remove(e),O(n))}}let I={modifyConstructor(e){function t(t,n,o){e.call(this,{geometry:t,properties:n},o)}return t.prototype=e.prototype,t}};w(i(d(e=>o.createElement(L,s({},e,{name:"GeoObject",dangerZone:I})),!0,["GeoObject"]))),w(i(d(e=>o.createElement(L,s({},e,{name:"Circle"})),!0,["Circle"])));var T=w(i(d(e=>o.createElement(L,s({},e,{name:"Placemark"})),!0,["Placemark"])));w(i(d(e=>o.createElement(L,s({},e,{name:"Polygon"})),!0,["Polygon"]))),w(i(d(e=>o.createElement(L,s({},e,{name:"Polyline"})),!0,["Polyline"]))),w(i(d(e=>o.createElement(L,s({},e,{name:"Rectangle"})),!0,["Rectangle"])))},12747:function(e,t,n){"use strict";n.r(t),n.d(t,{Map:function(){return en}});var o,s=n(57437),a=n(2265),r=n(85939),l=n.n(r),i=n(51189),c=n(92522),u=n(29311),p=n.n(u),d=n(92728);n(78681);var m=n(24843),b=n(2769),f=n(90683),h=n(84402),_=n(96345);let{all:y,kids:g,pets:v,breakfast:j,buffet:x,star3:k,star4:O}=d.attributes,{spb:E,msk:C}=d.cities,w=[{id:"20176",header:"Port Comfort by the Gostiniy Dvor 3*",address:"Санкт-Петербург, Садовая, 28-30",metro:[{station:"Невский пр.",class:"balloon_metro_blue",class2:""},{station:"Гостиный Двор",class:"balloon_metro_green",class2:""},{station:"",class:"balloon_metro_none",class2:"balloon_metro_none"}],img:"/images/map/balloon/gost.jpg",body:"<b>5 минут</b> до  <span class='balloon_blue_text'>Невского проспекта</span> и <span class='balloon_blue_text'>Казанского собора</span> , <br> <b>10 минут</b> до  <span class='balloon_blue_text'>Русского музея</span> и <span class='balloon_blue_text'>Спаса на Крови<span/>",href:`/hotels/spb/${f.D[h.h.gostiniyDvor]}`,coords:[59.930755,30.327932],city:{spb:E},beds:4,attributes:[j,k,v,g]},{id:"27469",header:"Port Comfort by Moyka 3*",address:"Санкт-Петербург, Гривцова, 4к2",metro:[{station:"Адмиралтейская ",class:"balloon_metro_purple",class2:""},{station:"Сенная площадь",class:"balloon_metro_blue",class2:""},{station:"Садовая",class:"balloon_metro_purple",class2:""}],img:"/images/map/balloon/moyka.jpg",body:"<b>12 минут</b> до  <span class='balloon_blue_text'>Дворцовой площади</span> и  <span class='balloon_blue_text'>Эрмитажа</span> </br> <b>5 минут</b> до  <span class='balloon_blue_text'>Исаакиевского собора</span>",href:`/hotels/spb/${f.D[h.h.moyka]}`,coords:[59.931062,30.314269],city:{spb:E},beds:4,attributes:[x,j,k,v,g]},{id:"10970",header:"Port Comfort on Ligovskiy 4*",address:"Санкт-Петербург, Лиговский, 29",metro:[{station:"Площадь Восстания",class:"balloon_metro_red",class2:""},{station:"Маяковcкая",class:"balloon_metro_green",class2:""},{station:"",class:"balloon_metro_none",class2:"balloon_metro_none"}],img:"/images/map/balloon/liga.jpg",body:"<b>5 минут</b> до <span class='balloon_blue_text'>Невского проспекта</span> и <span class='balloon_blue_text'>Московского вокзала</span> (Сапсан) </br> <b>15 минут</b> до  <span class='balloon_blue_text'>Летнего сада</span>",href:`/hotels/spb/${f.D[h.h.ligovskiy]}`,coords:[59.933591,30.362068],city:{spb:E},beds:4,attributes:[x,j,O,v,g]},{id:"27859",header:"Port Comfort by Smolnyy 3*",address:"Санкт-Петербург, Суворовский, 65Б",metro:[{station:"Чернышевская",class:"balloon_metro_red",class2:""},{station:"Пл. Восстания",class:"balloon_metro_red",class2:""},{station:"",class:"balloon_metro_none",class2:"balloon_metro_none"}],img:"/images/map/balloon/smol.jpg",body:"<b>5 минут</b> до  <span class='balloon_blue_text'>Смольного Собора</span>, <br> <b>7 минут</b> до  <span class='balloon_blue_text'>Таврического сада</span>",href:`/hotels/spb/${f.D[h.h.smolnyy]}`,coords:[59.944954,30.388138],city:{spb:E},beds:2,attributes:[j,k,v,g]},{id:"33783",header:"Port Comfort by Sennaya Square 4*",address:"Санкт-Петербург, Садовая, 53",metro:[{station:"Сенная",class:"balloon_metro_blue",class2:""},{station:"Спасская",class:"balloon_metro_orange",class2:""},{station:"Садовая",class:"balloon_metro_purple",class2:""}],img:"/images/map/balloon/sen.jpg",body:"<b>8 минут</b> до <span class='balloon_blue_text'>Мариинского театра</span>, <br> <b>15 минут</b> до <span class='balloon_blue_text'>Новой Голландии</span>, <span class='balloon_blue_text'>Исаакиевского собора </span>",href:`/hotels/spb/${f.D[h.h.sennaya]}`,coords:[59.923626,30.309804],city:{spb:E},beds:4,attributes:[x,j,O,v,g]},{id:"21668",header:"Port Comfort by Old Nevskiy 3*",address:"Санкт-Петербург, ул. Ал. Невского, 9В",metro:[{station:"Пл. Ал. Невского",class:"balloon_metro_green",class2:""},{station:"Пл. Ал. Невского",class:"balloon_metro_orange",class2:""},{station:"",class:"balloon_metro_none",class2:"balloon_metro_none"}],img:"/images/map/balloon/an.jpg",body:"<b>Одна станция метро</b> до <span class='balloon_blue_text'>Невского проспекта</span> и <span class='balloon_blue_text'>Московского Вокзала</span> (Сапсан) </br> <b>5 минут</b> до <span class='balloon_blue_text'>Александро-Невской лавры</span>",href:`/hotels/spb/${f.D[h.h.nevskiy]}`,coords:[59.925764,30.385065],city:{spb:E},beds:2,attributes:[k,v,g]},{id:"20776",header:" Port Comfort by the Griboedov 3*",address:"Санкт-Петербург, Бол. Подьяческая, 19",metro:[{station:"Сенная",class:"balloon_metro_blue",class2:""},{station:"Спасская ",class:"balloon_metro_orange",class2:""},{station:"Садовая",class:"balloon_metro_purple",class2:""}],img:"/images/map/balloon/griboedov.jpg",body:"<b>5 минут</b> до <span class='balloon_blue_text'>Мариинского театра</span>, <br> <b>12 минут</b> до <span class='balloon_blue_text'>Новой Голландии</span> и <span class='balloon_blue_text'>Исаакиевского собора</span>",href:`/hotels/spb/${f.D[h.h.griboedov]}`,coords:[59.924041,30.305205],city:{spb:E},beds:4,attributes:[j,k,v,g]},{id:"32789",header:"Port Comfort on Pokrovka 3*",address:"Москва, Покровка, 29",metro:[{station:"Чистые пруды",class:"balloon_metro_msk_red",class2:""},{station:"Курская",class:"balloon_metro_msk_blue",class2:""},{station:"Китай-город",class:"balloon_metro_msk_orange",class2:""}],img:"/images/map/balloon/pokrovka.jpg",body:"<b>2 минуты</b> до <span class='balloon_blue_text'>Чистых прудов</span> </br> <b>2 км</b> до <span class='balloon_blue_text'>Красной площади</span> и <span class='balloon_blue_text'>Кремля</span>",href:`/hotels/msk/${f.D[h.h.pokrovka]}`,coords:[55.760711,37.64792],city:{msk:C},beds:2,attributes:[k,v,g]}];function R(e){let{checked:t}=e,n=(0,m.GS)(b.Mq),o=(0,m.GS)(b.ai),[r,l]=a.useState([0,0]),[i,u]=a.useState(10),[d,f]=a.useState(!0),[g,v]=a.useState(!n),{city:j,beds:x,attributes:R}=t,P=a.useCallback(e=>{for(let t of R)if(!e.attributes.includes(t))return!0},[R]),S=a.useCallback(e=>{switch(!0){case o&&e===E:return 12;case o&&e===C:return 14;default:if(e===E||e===C)return 14}return 10},[o]),M=a.useCallback(e=>{switch(!0){case o&&e===E:return[59.946644,30.349868];case o&&e===C:return[55.762816,37.639824];case n&&e===E:return[59.941644,30.349868];case n&&e===C:return[55.762816,37.639824];default:if(e===E)return[59.937644,30.347868];if(e===C)return[55.762816,37.639824]}return[0,0]},[o,n]),D=a.useCallback(e=>{switch(!0){case e.attributes.includes(k):return"/images/map/placemarkI3.png";case e.attributes.includes(O):return"/images/map/placemarkI4.png";default:return""}},[]),$=a.useCallback(()=>{switch(!0){case o:return[46,46];case n:return[54,54];default:return[92,92]}},[n,o]),N=a.useCallback(e=>2===e.touches.length?v(!0):v(!1),[]),L=e=>t=>{"10970"===e.id&&d&&(t&&t.balloon.open(),f(!1))};a.useEffect(()=>{l(M(j)),u(S(j))},[j,n,o,M,S]);let I=e=>{let t=()=>{e===h.h.ligovskiy&&(0,_.ZP)("reachGoal","click-main-map-Ligovskiy"),e===h.h.griboedov?(0,_.ZP)("reachGoal","click-main-map-Griboedov"):(0,_.ZP)("reachGoal","click-main-map-most-hotels")},n=setInterval(()=>{let o=document.querySelector(`#link-${e}`);if(o)return o.addEventListener("click",t),clearInterval(n),()=>o.removeEventListener("click",t)},500);return()=>clearInterval(n)};return a.useEffect(()=>{I(h.h.ligovskiy),I(h.h.griboedov)},[]),(0,s.jsx)("div",{className:p().root,children:(0,s.jsx)(c.Yy,{query:{apikey:"497feeb6-dc95-47ca-b1c3-75a4c310c9b7"},children:(0,s.jsx)("div",{style:{width:"100%",height:"100%"},onTouchStart:e=>N(e),children:(0,s.jsxs)(c.D5,{width:"100%",height:"100%",defaultState:{center:r,zoom:i},instanceRef:e=>{e&&(e.behaviors.disable("scrollZoom"),e.setCenter(r,i).then(),n&&(g?e.behaviors.enable("drag"):e.behaviors.disable("drag")))},options:{yandexMapDisablePoiInteractivity:!0,suppressMapOpenBlock:!0,copyrightLogoVisible:!1,copyrightProvidersVisible:!1,copyrightUaVisible:!1},children:[(0,s.jsx)(c.Ly,{options:{position:{right:10,top:300},size:"small"}}),w.map(e=>{if(!(!R.includes(y)&&R.length>0&&P(e))&&(!x||!(x>e.beds)))return(0,s.jsx)(c.ah,{geometry:e.coords,properties:{balloonContent:`
                                <div class="description">
                                    <div class="description-container">
                                        <h2 class="title_balloon">${e.header}</h2>
                                        <div class="address"><img class="balloon_icon" src="/images/map/balloon/geo_icon.png" alt="address">${e.address}</div>
                                        <div class="metro"><img class="balloon_icon" src="/images/map/balloon/metro.png" alt="metro">рядом 
                                          <span class=${e.metro[0].class}>${e.metro[0].station}</span> 
                                          <span class=${e.metro[1].class2}>/</span>
                                          <span class=${e.metro[1].class}>${e.metro[1].station}</span> 
                                          <span class=${e.metro[2].class2}>/</span>
                                          <span class=${e.metro[2].class}>${e.metro[2].station}</span> 
                                        </div>
                                        <div class="extra-info">${e.body}</div>
                                        <a href="${e.href}" id="link-${e.id}">
                                            <button class="button_balloon" ><img src="/images/map/balloon/button.png" alt="button"></button>
                                        </a>
                                    </div>
                                    ${e.img?`<img class="balloon-hotel-image" src="${e.img}" alt="hotel image">`:""}
                                </div>
                            `},options:{balloonMaxWidth:650,balloonMaxHeight:280,balloonPanelMaxMapArea:o?1/0:0,balloonAutoPan:!o,iconLayout:"default#image",iconImageHref:D(e),iconImageSize:$(),zIndex:e.attributes.includes(O)?2:1},modules:["geoObject.addon.balloon","geoObject.addon.hint"],instanceRef:L(e)},e.id)})]})})})})}var P=n(63901),S=n.n(P),M=n(335),D=n(99837),$=n.n(D),N=n(73417),L=n.n(N),I=n(16480),T=n.n(I);function B(e){let{options:t,placeholder:n,value:o,setValue:r}=e,[l,i]=a.useState(!1),c=a.useRef(null);return a.useEffect(()=>{if(document&&l){let e=e=>{e.target!==c.current&&i(!1)};return document.addEventListener("click",t=>e(t)),()=>document.removeEventListener("click",t=>e(t))}},[l]),(0,s.jsxs)("div",{className:L().root,role:"select",onClick:()=>(0,_.ZP)("reachGoal","click-main-map-city"),children:[(0,s.jsx)("span",{className:T()(L().selected,{[L().active]:l}),ref:c,onClick:()=>i(e=>!e),children:o||n}),(0,s.jsx)("ul",{className:T()(L().dropdown,{[L().active]:l}),children:t.map((e,t)=>(0,s.jsx)("li",{className:T()({[L().active]:o===e}),role:"option","aria-selected":o===e,"aria-disabled":o===e,"data-value":e,onClick:o!==e?r(e):null,children:e},t))})]})}let A=["Санкт-Петербург","Москва"],V=[1,2,3,4],G=[1,2];function U(e){let{checked:t,setCity:n,setBeds:o}=e;return(0,s.jsxs)("div",{className:$().root,children:[(0,s.jsx)(B,{options:A,placeholder:"Выбор города",value:t.city,setValue:n}),(0,s.jsx)(B,{options:t.city===d.cities.msk?G:V,placeholder:"Количество мест в номере",value:t.beds,setValue:o})]})}var z=n(25185),Z=n.n(z),W=n(3260),q=n.n(W),F=n(52846);function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var Y=e=>F.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",width:11,height:10,fill:"none"},e),o||(o=F.createElement("path",{fill:"#fff",d:"M10.767 4.5 8.702 6.424l.488 2.719a.71.71 0 0 1-.334.729.84.84 0 0 1-.824.04L5.5 8.64 2.968 9.91a.84.84 0 0 1-.823-.04.71.71 0 0 1-.334-.728l.487-2.72L.232 4.502a.695.695 0 0 1-.188-.762.78.78 0 0 1 .632-.488l2.838-.394L4.786.416A.79.79 0 0 1 5.5 0c.308 0 .581.16.714.417l1.272 2.44 2.838.394a.78.78 0 0 1 .632.488c.1.269.027.56-.188.762z"})));function K(e){let{text:t,isChecked:n,setValue:o,icon:a,isDisabled:r}=e;return(0,s.jsxs)("div",{role:"checkbox","aria-checked":n,className:T()(q().root,{[q().active]:n},{[q().disabled]:r}),onClick:o(t,n),children:[(0,s.jsx)("span",{children:t}),a&&(0,s.jsx)(Y,{className:q().icon})]})}let Q=[d.attributes.breakfast,d.attributes.buffet,d.attributes.star4];function X(e){let{checked:t,setAttributes:n}=e,o=e=>e===d.attributes.all&&t.attributes.length<1&&!t.beds;return a.useEffect(()=>{t.city===d.cities.msk&&Q.forEach(e=>n(e,!0)())},[t.city,n]),(0,s.jsxs)("div",{className:Z().root,children:[(0,s.jsx)(M.R,{rightTop:!0,fromLeftTop:!0,className:Z().angle}),Object.values(d.attributes).map((e,a,r)=>(0,s.jsx)(K,{text:e,icon:a===r.length-1||a===r.length-2,isChecked:t.attributes?.includes(e)||o(e),setValue:n,isDisabled:t.city===d.cities.msk&&Q.includes(e)},a))]})}function J(e){let{checked:t,setCity:n,setBeds:o,setAttributes:a}=e;return(0,s.jsxs)("div",{className:S().root,children:[(0,s.jsx)(M.R,{rightTop:!0,fromLeftTop:!0,className:S().angle1}),(0,s.jsx)(M.R,{leftBottom:!0,fromLeftTop:!0,className:S().angle2}),(0,s.jsx)(M.R,{rightBottom:!0,fromRightTop:!0,className:S().angle3}),(0,s.jsx)(U,{checked:t,setCity:n,setBeds:o}),(0,s.jsx)(X,{checked:t,setAttributes:a})]})}var ee=n(77526),et=n(68289);function en(){let[e,t]=a.useState({city:d.cities.spb,beds:null,attributes:[]}),n=e=>e.attributes.filter(e=>e!==d.attributes.all),o=a.useCallback((e,t)=>{let o=n(t);return e===d.attributes.star3?o.filter(e=>e!==d.attributes.star4):e===d.attributes.star4?o.filter(e=>e!==d.attributes.star3):o},[]),r=a.useCallback(e=>()=>t(t=>({...t,beds:null,city:e})),[t]),c=a.useCallback(e=>()=>t(t=>({...t,beds:e,attributes:[...n(t)]})),[t]),u=a.useCallback((e,n)=>()=>{if(e===d.attributes.all){n?t(e=>({...e,attributes:[]})):t(t=>({city:t.city,beds:null,attributes:[e]}));return}n||t(t=>t.attributes?.length>0?{...t,attributes:[...o(e,t),e]}:{...t,attributes:[e]}),n&&t(t=>({...t,attributes:[...t.attributes.filter(t=>t!==e)]}))},[t,o]),{ref:p,startAnimate:m}=(0,et._)();return(0,s.jsx)("section",{className:l().root,ref:p,children:(0,s.jsxs)(i.W,{className:l().container,children:[(0,s.jsx)(ee.D,{title:"Отели на карте",start:m}),(0,s.jsxs)("div",{className:T()(l().map_container,l().init,{[l().animate]:m}),children:[(0,s.jsx)(J,{checked:e,setCity:r,setBeds:c,setAttributes:u}),(0,s.jsx)(R,{checked:e})]})]})})}},92728:function(e,t,n){"use strict";var o,s,a,r;n.d(t,{attributes:function(){return o},cities:function(){return s}}),(a=o||(o={})).all="Все объекты",a.kids="Можно с детьми",a.pets="Можно с питомцами",a.breakfast="С завтраком",a.buffet="\xabШведский стол\xbb",a.star3="Отели 3",a.star4="Отели 4",(r=s||(s={})).spb="Санкт-Петербург",r.msk="Москва"},77526:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var o=n(57437);n(2265);var s=n(16480),a=n.n(s),r=n(42107),l=n.n(r);function i(e){let{title:t,text:n,start:s}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{className:a()(l().title,l().init,{[l().animate]:s}),children:t}),(0,o.jsx)("p",{className:a()(l().text,l().init,{[l().animate]:s}),children:n})]})}},43277:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var o=n(57437),s=n(46851),a=n.n(s),r=n(16480),l=n.n(r);function i(e){let{className:t,size:n=40,color:s="white",leftTop:r,leftBottom:i,rightTop:c,rightBottom:u,fromLeftTop:p,fromLeftBottom:d,fromRightBottom:m,fromRightTop:b}=e;return(0,o.jsx)("svg",{className:l()(a().angle,{[a().left_top]:r},{[a().left_bottom]:i},{[a().right_top]:c},{[a().right_bottom]:u},{[a().from_left_top]:p},{[a().from_left_bottom]:d},{[a().from_right_top]:b},{[a().from_right_bottom]:m},t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:n,height:n,children:(0,o.jsx)("path",{fill:s,d:"M51.9 0v1.9c-27.6 0-50 22.4-50 50H0V0h51.9z"})})}},335:function(e,t,n){"use strict";n.d(t,{R:function(){return o.R}});var o=n(43277)},51189:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var o=n(57437);n(2265);var s=n(16480),a=n.n(s),r=n(89004),l=n.n(r);let i=e=>{let{as:t="div",className:n,children:s,...r}=e;return(0,o.jsx)(t,{className:a()(l().root,n),...r,children:s})}},68289:function(e,t,n){"use strict";n.d(t,{_:function(){return u}});var o=n(2265),s=Object.defineProperty,a=new Map,r=new WeakMap,l=0,i=void 0;o.Component;var c=n(64496);function u(){let{ref:e,inView:t}=function(){var e;let{threshold:t,delay:n,trackVisibility:s,rootMargin:c,root:u,triggerOnce:p,skip:d,initialInView:m,fallbackInView:b,onChange:f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[h,_]=o.useState(null),y=o.useRef(),[g,v]=o.useState({inView:!!m,entry:void 0});y.current=f,o.useEffect(()=>{let e;if(!d&&h)return e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;if(void 0===window.IntersectionObserver&&void 0!==o){let s=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:s,intersectionRect:s,rootBounds:s}),()=>{}}let{id:s,observer:c,elements:u}=function(e){let t=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var n;return`${t}_${"root"===t?(n=e.root)?(r.has(n)||(l+=1,r.set(n,l.toString())),r.get(n)):"0":e[t]}`}).toString(),n=a.get(t);if(!n){let o;let s=new Map,r=new IntersectionObserver(t=>{t.forEach(t=>{var n;let a=t.isIntersecting&&o.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(n=s.get(t.target))||n.forEach(e=>{e(a,t)})})},e);o=r.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:r,elements:s},a.set(t,n)}return n}(n),p=u.get(e)||[];return u.has(e)||u.set(e,p),p.push(t),c.observe(e),function(){p.splice(p.indexOf(t),1),0===p.length&&(u.delete(e),c.unobserve(e)),0===u.size&&(c.disconnect(),a.delete(s))}}(h,(t,n)=>{v({inView:t,entry:n}),y.current&&y.current(t,n),n.isIntersecting&&p&&e&&(e(),e=void 0)},{root:u,rootMargin:c,threshold:t,trackVisibility:s,delay:n},b),()=>{e&&e()}},[Array.isArray(t)?t.toString():t,h,u,c,p,d,s,b,n]);let j=null==(e=g.entry)?void 0:e.target,x=o.useRef();h||!j||p||d||x.current===j||(x.current=j,v({inView:!!m,entry:void 0}));let k=[_,g.inView,g.entry];return k.ref=k[0],k.inView=k[1],k.entry=k[2],k}({rootMargin:"-100px"});return{ref:e,startAnimate:(0,c.B)(t)}}},84402:function(e,t,n){"use strict";var o,s;n.d(t,{h:function(){return o}}),(s=o||(o={})).ligovskiy="10970",s.griboedov="20776",s.gostiniyDvor="20176",s.nevskiy="21668",s.angliyskiy="42043",s.moyka="27469",s.sennaya="33783",s.smolnyy="27859",s.pokrovka="32789"},90683:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});let o={10970:"ligovskiy",20776:"griboedov",20176:"gostiniy-dvor",21668:"old-nevskiy",42043:"angliyskiy",27469:"moyka",33783:"sennaya-square",27859:"smolnyy",32789:"pokrovka"}},78681:function(){},63901:function(e){e.exports={root:"style_root__LmP_S",angle1:"style_angle1__jydVz",angle3:"style_angle3__03MOV"}},73417:function(e){e.exports={root:"style_root__DLHe3",selected:"style_selected__Gb80R",active:"style_active__xIGLo",dropdown:"style_dropdown__j0NID"}},99837:function(e){e.exports={root:"style_root__6gevu"}},3260:function(e){e.exports={root:"style_root__32m1J",active:"style_active__gt2at",disabled:"style_disabled__LP6mb",icon:"style_icon__9VxYX"}},25185:function(e){e.exports={root:"style_root__gGwao",angle:"style_angle__f_rDO"}},29311:function(e){e.exports={root:"style_root__pCBcO"}},85939:function(e){e.exports={container:"style_container__c937h",map_container:"style_map_container__porev",init:"style_init__NdkhX",animate:"style_animate__Dub_F",filters:"style_filters__2_tz8",selects:"style_selects__Sf9_b",checkboxes:"style_checkboxes__4FMBK"}},42107:function(e){e.exports={title:"style_title__6gTfy",init:"style_init__LQIzW",animate:"style_animate__kx2jK",text:"style_text__5jBjO"}},46851:function(e){e.exports={angle:"style_angle__llpPU",left_bottom:"style_left_bottom__oHwdE",from_right_bottom:"style_from_right_bottom___8doH",from_left_top:"style_from_left_top__GqZQ7",left_top:"style_left_top__2F4Ih",from_right_top:"style_from_right_top__moHFr",from_left_bottom:"style_from_left_bottom__K4_yO",right_bottom:"style_right_bottom__PVpjs",right_top:"style_right_top__4bpQM"}},89004:function(e){e.exports={root:"style_root__FVTmd"}}}]);