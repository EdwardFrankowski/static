(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9094],{71992:function(e,t,s){Promise.resolve().then(s.bind(s,12646))},58165:function(e,t,s){"use strict";s.d(t,{v:function(){return o}});var l=s(57437);s(2265);var r=s(25622),a=s.n(r),n=s(16480),i=s.n(n);function o(e){let{name:t,isChecked:s,handleClickFilter:r,isDisabled:n}=e;return(0,l.jsx)("div",{role:"checkbox","aria-checked":s,className:i()(a().root,{[a().active]:s},{[a().disabled]:n}),onClick:r(s,t),children:(0,l.jsx)("span",{children:t})})}},12646:function(e,t,s){"use strict";s.r(t),s.d(t,{Main:function(){return sn}});var l,r,a,n,i,o,c,u,d,_,h,p,m,v,y,f=s(57437),x=s(2265),b=s(99931),j=s.n(b),g=s(57967),k=s.n(g),w=s(60509),N=s.n(w),C=s(82901),S=s.n(C),M=s(16480),O=s.n(M),D=s(15864),H=s.n(D),E=s(20703),F=s(48344),I=s(45543);s(86978),s(70501),s(67090);var A=s(52846);function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var z=e=>A.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},e),a||(a=A.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.191 1.414 1.706 9.9m0 0 8.485 8.486M1.706 9.899h16.97"})));function L(e){let{images:t,isActive:s,isMapCard:l}=e,r=x.useRef(null),a=x.useRef(null),n=e=>{e.preventDefault(),e.stopPropagation()};return(0,f.jsxs)("div",{className:O()(H().root,{[H().map_card]:l}),children:[(0,f.jsx)(z,{className:O()(H().arrow,H().prev,{[H().active]:s&&t.length>1}),onClick:e=>{n(e),a?.current?.slidePrev()}}),(0,f.jsx)(z,{className:O()(H().arrow,H().next,{[H().active]:s&&t.length>1}),onClick:e=>{n(e),a?.current?.slideNext()}}),(0,f.jsx)(F.tq,{className:O()(H().slider,"pagination-hotels-card"),modules:[I.tl],pagination:{dynamicBullets:!0},spaceBetween:0,slidesPerView:1,loop:!0,ref:r,autoHeight:!0,onSwiper:e=>a.current=e,children:t.map((e,t)=>(0,f.jsx)(F.o5,{className:H().slide,children:(0,f.jsx)(E.default,{className:O()(H().image),src:e,alt:"img",width:400,height:400,loading:t>0?"lazy":"eager",priority:t<1})},t))})]})}var R=s(4338),W=s.n(R),B=s(91967),V=s(58924),q=s.n(V),$=s(81837),U=s(42256);function G(e){let{locations:t,metro:s,address:l}=e;return(0,f.jsxs)("div",{className:q().root,children:[(0,f.jsx)(U.Y,{text:l,location:"1",hotelsSelect:!0}),(0,f.jsx)($.m,{textBefore:s.distance,metro:s.stations,hotelsSelect:!0}),(0,f.jsx)(U.Y,{className:q().location_2,text:`${t.distance} ${t.textBefore} ${t.text}`,location:"2",hotelsSelect:!0})]})}var T=s(39569),Z=s.n(T);function Y(e){let{title:t}=e;return(0,f.jsx)("h2",{className:Z().root,children:t})}function J(e){let{title:t,locations:s,metro:l,address:r,amenities:a}=e;return(0,f.jsxs)("div",{className:W().root,children:[(0,f.jsx)(Y,{title:t}),(0,f.jsx)(G,{locations:s,metro:l,address:r}),(0,f.jsx)(B.a,{className:W().amenities,amenities:a})]})}var K=s(75803),X=s.n(K),Q=s(74898);function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var et=e=>A.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:7,height:12,fill:"none"},e),n||(n=A.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 5 5-5 5"}))),es=s(24843),el=s(2769);function er(e){let{isHover:t,isBalloon:s}=e,l=(0,es.GS)(el.ai);return(0,f.jsxs)("div",{className:O()(X().root,{[X().balloon]:s}),children:[(0,f.jsx)("span",{className:X().price}),(0,f.jsx)(Q.z,{className:O()(X().button,{[X().hover]:t},{[X().balloon]:s}),green:!0,l:!0,children:l||s?(0,f.jsx)(et,{}):"Выбрать"})]})}var ea=s(90683),en=s(8792),ei=s(84402);let eo=e=>e===ei.h.pokrovka?"msk":"spb";function ec(e){let{item:t,selectedHotelID:s,setSelectedCity:l,hoverHotelID:r,setHoverHotelID:a,setTopCard:n,queryParams:i}=e,o=(0,es.GS)(el.Mq),[c,u]=x.useState(!1),d=r?r===t.id:s===t.id,_=x.useRef(null);return x.useEffect(()=>{if(!_||!_.current)return;let e=_.current.offsetTop;if(o&&s===t.id){n(e);return}r!==t.id||c||n(e),""===r&&s===t.id&&n(e)},[r,t.id,n,c,s,o]),(0,f.jsxs)(en.default,{className:O()(S().root,{[S().hover]:d}),onMouseEnter:()=>{a(t.id),l(t.city),u(!0)},onMouseLeave:()=>{a(""),u(!1)},href:i.length>0?`/hotels/${eo(t.id)}/${ea.D[t.id]}?${i}`:`/hotels/${eo(t.id)}/${ea.D[t.id]}`,ref:_,children:[(0,f.jsx)(L,{images:t.images.small,isActive:c}),(0,f.jsx)(J,{title:t.header,locations:t.landmarks.main,metro:t.metro,address:`${t.city}, ${t.address}`,amenities:t.services}),(0,f.jsx)(er,{isHover:d})]})}var eu=s(86724),ed=s.n(eu);let e_=x.forwardRef((e,t)=>{let{children:s,className:l}=e;return(0,f.jsx)("div",{className:O()(ed().root,l),ref:t,children:s})});function eh(e){let{isOpenMapMobile:t,hotels:s,selectedHotelID:l,setSelectedCity:r,hoverHotelID:a,setHoverHotelID:n,queryParams:i}=e,o=(0,es.GS)(el.Mq),c=x.useRef(null),[u,d]=x.useState(0);return x.useEffect(()=>{if(!o&&window.innerWidth<window.innerHeight&&l){window.scrollTo({top:u+300,behavior:"smooth"});return}if(o&&window&&!t&&l){window.scrollTo({top:u+260,behavior:"smooth"});return}c?.current?.scrollTo({top:u,behavior:"smooth"})},[u,c,o,t,l]),(0,f.jsxs)("div",{className:O()(N().root,{[N().map_active]:t}),children:[(0,f.jsx)(e_,{className:N().cards_wrapper,ref:c,children:s.map((e,t)=>(0,f.jsx)(ec,{item:e,selectedHotelID:l,setSelectedCity:r,hoverHotelID:a,setHoverHotelID:n,setTopCard:d,queryParams:i},t))}),(0,f.jsx)("div",{className:N().gradient})]})}e_.displayName="Scrollbar";var ep=s(46783),em=s.n(ep);function ev(){return(ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var ey=e=>A.createElement("svg",ev({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 13 13"},e),i||(i=A.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11.667 8.77 8.259m0 0A4.5 4.5 0 1 0 2.23 2.075a4.5 4.5 0 0 0 6.538 6.184"}))),ef=s(82700),ex=s(68036);function eb(e){let{openModal:t,filterTL:s,cityPage:l}=e,r=x.useCallback(()=>{if(!s)return;let{guests:e}=s;switch(!0){case 1===e:return"гость";case 5===e:return"гостей";default:return"гостя"}},[s]),a=x.useCallback(()=>{if(s){let{date:e}=s,t=(0,ef.WU)(e[0],"dd.MM"),l=(0,ef.WU)(e[1],"dd.MM");return`${t} - ${l}`}},[s]);return(0,f.jsxs)("div",{className:em().root,children:[(0,f.jsx)("span",{className:em().title,children:"Наши отели"}),(0,f.jsxs)("div",{className:em().search,onClick:t,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:O()(em().city,{[em().center]:!s}),children:(()=>{if(s)return s.city;switch(l){case ex.t.spb:return ex.t.spb;case ex.t.msk:return ex.t.msk;default:return""}})()}),(0,f.jsx)("span",{className:em().date,children:a()}),s&&(0,f.jsxs)("span",{className:em().guests,children:[s.guests," ",r()]})]}),(0,f.jsx)(ey,{className:em().icon})]})]})}var ej=s(11393),eg=s.n(ej);function ek(){return(ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var ew=e=>A.createElement("svg",ek({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),o||(o=A.createElement("path",{stroke:"#8E99AF",strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 8.5v2m0 2v-2m2 0h2m-4 0h-9M5.5 7.5v-2m0-2v2m2 0h7m-9 0h-4"}))),eN=s(69889),eC=s.n(eN),eS=s(71857),eM=s(42241),eO=s.n(eM);function eD(e){let{className:t,name:s,isChecked:l,handleClickFilter:r}=e;return(0,f.jsxs)("div",{className:O()(eO().root,t),onClick:r(l,s),children:[(0,f.jsx)("span",{className:eO().text,children:s}),(0,f.jsx)("label",{children:(0,f.jsx)("input",{className:eO().checkbox,type:"checkbox",name:"agree",checked:l,onChange:()=>{}})})]})}function eH(e){let{title:t,items:s,selectedFilters:l,handleClickFilter:r,setOpenMobileFilters:a,isMSK:n}=e,i=(0,es.GS)(el.Mq),[o,c]=x.useState(!1);return(0,f.jsxs)("div",{className:O()(eC().root,{[eC().msk]:n},{[eC().hover]:o}),onMouseLeave:()=>!i&&c(!1),onClick:()=>{i&&a({isOpen:!0,filterName:t})},children:[(0,f.jsxs)("div",{className:O()(eC().title,{[eC().hover]:o}),onMouseEnter:()=>!i&&c(!0),children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)(eS.Z,{className:O()(eC().arrow,{[eC().hover]:o})})]}),(0,f.jsx)(e_,{className:O()(eC().items,{[eC().hover]:o}),children:s.map((e,t)=>(0,f.jsx)(eD,{name:e,isChecked:l.includes(e),handleClickFilter:r},t))})]})}var eE=s(34109);(l=c||(c={})).stars="Звездность",l.food="Питание",l.metro="Метро",l.attractions="Знаковые места",l.railways="Вокзалы",l.streets="Улицы поблизости",l.beds="Мест в номере",l.kids="С детьми",l.pets="С питомцами",l.business="Командировка",l.transfer="Трансфер",l.amenities="В отеле",l.services="Услуги",(r=u||(u={})).checkbox="checkbox",r.switch="switch";let eF=[{title:"Звездность",type:"checkbox",items:[eE.W.star3,eE.W.star4]},{title:"Питание",type:"checkbox",items:["Завтрак","\xabШведский стол\xbb"]},{title:"Метро",type:"checkbox",items:["Адмиралтейская","Невский проспект / Гостиный двор","Площадь Ал. Невского / Площадь Ал. Невского","Площадь Восстания / Маяковская","Садовая / Сенная / Спасская","Чернышевская"]},{title:"Знаковые места",type:"checkbox",items:["Эрмитаж","Мариинский театр","Летний сад","Русский музей","Исаакиевский собор","Кунсткамера","Медный всадник","Казанский собор","Дворцовая площадь","Спас на Крови","Новая Голландия","Юсуповский дворец","Дворцовый мост","Музей Фаберже","Александринский театр","Михайловский замок","Анненкирхе","Смольный собор","Троицкий мост","Аничков мост","Пять углов","Мариинский концертный зал","Юсуповский сад","ТРЦ Галерея"]},{title:"Вокзалы",type:"checkbox",items:["Московский (Сапсан)","Балтийский (Петергоф)","Витебский (Пушкин, Павловск)","Финляндский (Выборг)"]},{title:"Улицы поблизости",type:"checkbox",items:["Невский проспект","Садовая","Рубинштейна","Пушкинская","Правды","Некрасова","Набережная Фонтанки","Марата","Литейный проспект","Лиговский проспект","Канал Грибоедова","Джона Леннона","Большая Морская","Синопская набережная"]},{title:"Мест в номере",type:"checkbox",items:["1","2","3","4"]},{title:"С детьми",type:"switch",items:["С детьми"]},{title:"С питомцами",type:"switch",items:["С питомцами"]},{title:"Командировка",type:"switch",items:["Командировка"]},{title:"Трансфер",type:"switch",items:["Трансфер"]},{title:"В отеле",type:"checkbox",items:["Wi-Fi","Телевизор","Сейф*","Рабочий стол*","Кухонная зона","Холодильник","Электрический чайник","Душ","Ванна*","Стиральная машина*","Прачечная","Фен","Кондиционер","Балкон*","Лифт","Парковка (ограничено)"],popUp:{item:"Парковка (ограничено)",text:`Парковочных мест ограниченное количество. Пожалуйста, бронируйте их заранее по телефону <br/><b><a href="tel:+78005054990">+7 (800) 505–49–90</a></b>`}},{title:"Услуги",type:"checkbox",items:["Круглосуточное заселение","Круглосуточное обслуживание","Дополнительное спальное место","Детская кроватка","Доставка еды и напитков в номер","Хранение багажа","Экскурсии","Музеи"]}],eI=[{title:"Звездность",type:"checkbox",items:[eE.W.star3]},{title:"Метро",type:"checkbox",items:["Комсомольская","Площадь трёх вокзалов","Курская","Красные ворота","Китай-город","Ленинградский вокзал","Таганская","Бауманская","Театральная","Чистые пруды"]},{title:"Вокзалы",type:"checkbox",items:["Казанский","Ленинградский","Ярославский","Курский"]},{title:"Знаковые места",type:"checkbox",items:["Красная площадь","Парк Зарядье","Московский Кремль","ВШЭ","Большой театр","Институт мозга","ЦУМ","Artplay","Нулевой километр","Дом Утюг","Дом-яйцо","Лобное место","Парящий мост"]},{title:"Улицы поблизости",type:"checkbox",items:["Большая Лубянка","Земляной Вал","Космодамианская набережная","Котельническая набережная","Моховая","Мясницкая","Петровка","Покровка","Проспект Мира","Рождественский бульвар","Садовое кольцо","Театральный проезд","Чистопрудный бульвар","Яуза"]},{title:"Мест в номере",type:"checkbox",items:["1","2"]},{title:"С детьми",type:"switch",items:["С детьми"]},{title:"С питомцами",type:"switch",items:["С питомцами"]},{title:"Командировка",type:"switch",items:["Командировка"]},{title:"Трансфер",type:"switch",items:["Трансфер"]},{title:"В отеле",type:"checkbox",items:["Wi-Fi","Телевизор","Сейф*","Кухонная зона","Холодильник","Электрический чайник","Душ","Прачечная","Фен","Парковка (ограничено)"],popUp:{item:"Парковка (ограничено)",text:`Парковочных мест ограниченное количество. Пожалуйста, бронируйте их заранее по телефону <b><a href="tel:+78005054990">+7 (800) 505–49–90</a></b>`}},{title:"Услуги",type:"checkbox",items:["Круглосуточное заселение","Дополнительное спальное место","Экскурсии","Музеи"]}];function eA(e){let{openFilters:t,selectedFilters:s,handleClickFilter:l,setOpenMobileFilters:r,cityPage:a}=e,n=[c.stars,c.food,c.metro,c.attractions].map(e=>eF.find(t=>t.title===e)).filter(Boolean),i=[c.stars,c.metro,c.railways,c.attractions].map(e=>eI.find(t=>t.title===e)).filter(Boolean),o=a===ex.t.msk,u=o?i:n;return(0,f.jsx)("div",{className:eg().root,children:(0,f.jsxs)("div",{className:eg().wrapper,children:[(0,f.jsxs)("div",{className:eg().all_filters_button,onClick:t,role:"button",children:[(0,f.jsx)(ew,{}),(0,f.jsx)("span",{children:"Все фильтры"})]}),(0,f.jsx)("div",{className:eg().filters,children:u.map((e,t)=>{if(e)return(0,f.jsx)(eH,{title:e.title,items:e.items,selectedFilters:s,handleClickFilter:l,setOpenMobileFilters:r,isMSK:o},t)})})]})})}var eP=s(60892),ez=s.n(eP);function eL(e){let{selectedFilters:t,removeFilter:s,clearFilters:l,amount:r}=e;return(0,f.jsxs)("div",{className:ez().root,children:[(0,f.jsxs)("span",{className:ez().title,children:["Есть ",r," подходящих вариантов:"]}),t.length>0&&(0,f.jsxs)("div",{className:ez().filters_wrapper,children:[(0,f.jsx)("span",{className:ez().selected_title,children:"Выбранные фильтры:"}),t.map((e,t)=>(0,f.jsx)("span",{className:ez().filter,onClick:s(e),children:e},t)),(0,f.jsx)("span",{className:ez().filter,onClick:l,children:"Сбросить"})]})]})}var eR=s(81937),eW=s(91439),eB=s(20339);let eV="Апарт-отели 3* и 4* в Санкт-Петербурге и Москве в центре",eq="АПАРТ-ОТЕЛИ 3* И 4* В ЦЕНТРЕ В САНКТ-ПЕТЕРБУРГЕ",e$="АПАРТ-ОТЕЛИ 3* В ЦЕНТРЕ В МОСКВЕ";function eU(e){let{hotels:t,filterTL:s,isOpenFilters:l,openFilters:r,selectedFilters:a,removeFilter:n,clearFilters:i,handleClickFilter:o,selectedHotelID:c,setHoverHotelID:u,setSelectedCity:d,hoverHotelID:_,openModal:h,isOpenMapMobile:p,handleOpenMapMobile:m,queryParams:v,cityPage:y}=e,[b,j]=x.useState({isOpen:!1,filterName:""}),g=(y===ex.t.msk?eI:eF).find(e=>e.title===b.filterName),w=x.useCallback(()=>{window&&!p&&window.scrollTo(0,0),m()},[p,m]),N=x.useCallback(()=>{if(s)switch(s.city){case ex.t.spb:return eq;case ex.t.msk:return e$;default:return eV}switch(y){case ex.t.spb:return eq;case ex.t.msk:return e$;default:return eV}},[y,s]);return(0,f.jsxs)("div",{className:O()(k().root,{[k().map_active]:p},{[k().filters_active]:l}),children:[(0,f.jsx)("h1",{className:k().title,children:N()}),(0,f.jsx)(eb,{openModal:h,filterTL:s,cityPage:y}),(0,f.jsx)(eA,{openFilters:r,selectedFilters:a,handleClickFilter:o,setOpenMobileFilters:j,cityPage:y}),(0,f.jsx)(eL,{selectedFilters:a,removeFilter:n,clearFilters:i,amount:t?t.length:0}),t&&(0,f.jsx)(eh,{isOpenMapMobile:p,hotels:t,selectedHotelID:c,setSelectedCity:d,hoverHotelID:_,setHoverHotelID:u,queryParams:v}),(0,f.jsx)(eW.u,{isOpen:b.isOpen,close:()=>j({isOpen:!1,filterName:""}),mobileCloseIcon:!1,opacityBG:.3,children:(0,f.jsxs)("div",{className:k().mobile_filters_wrapper,children:[(0,f.jsx)(eB.P,{className:k().close,close:()=>j({isOpen:!1,filterName:""})}),(0,f.jsx)("div",{className:k().mobile_filters,children:g&&g.items.map((e,t)=>(0,f.jsx)(eD,{name:e,isChecked:a.includes(e),handleClickFilter:o},t))}),(0,f.jsx)(Q.z,{green:!0,className:k().button,onClick:()=>j({isOpen:!1,filterName:""}),children:"Готово"})]})}),(0,f.jsxs)(Q.z,{className:O()(k().mobile_button,{[k().map_active]:p}),onClick:w,xl:!0,purpleGradient:!0,children:[p&&(0,f.jsx)(eR.Z,{}),p?"К списоку отелей ":"На карте"]})]})}var eG=s(65853),eT=s.n(eG),eZ=s(92522),eY=s(86743),eJ=s.n(eY),eK=s(34040),eX=s(13114),eQ=s.n(eX);function e0(e){let{title:t,address:s,slides:l,id:r,queryParams:a}=e;return(0,f.jsxs)(en.default,{className:O()(eQ().root),href:a.length>0?`/hotels/${eo(r)}/${ea.D[r]}?${a}`:`/hotels/${eo(r)}/${ea.D[r]}`,children:[(0,f.jsx)(L,{images:l,isActive:!0,isMapCard:!0}),(0,f.jsx)(Y,{title:t}),(0,f.jsx)(U.Y,{text:s,location:"1",className:eQ().location,hotelsSelect:!0}),(0,f.jsx)(er,{isHover:!0,isBalloon:!0})]})}function e1(e){let{item:t,ymapRef:s,selectedHotelID:l,setSelectedHotelID:r,hoverHotelID:a,setHoverHotelID:n,queryParams:i}=e,[o,c]=x.useState(),[u,d]=x.useState(!1),_=(0,es.GS)(el.Mq),h=(0,es.GS)(el.ai),{id:p,header:m,coordinates:v,address:y,images:b,stars:j}=t,g=a?a===p:u,k=g?3:j===eE.W.star4?2:1,w=x.useCallback(()=>{if(h)switch(!0){case p===ei.h.ligovskiy:return[[0,0],[165,23]];case p===ei.h.sennaya:return[[0,0],[195,23]];case p===ei.h.gostiniyDvor:return[[0,0],[205,23]];case p===ei.h.moyka:return[[0,0],[148,23]];case p===ei.h.smolnyy:return[[0,0],[159,23]];case p===ei.h.nevskiy:return[[0,0],[175,23]];case p===ei.h.griboedov:return[[0,0],[187,23]];case p===ei.h.pokrovka:return[[0,0],[166,23]];case p===ei.h.angliyskiy:default:return[[0,0],[175,23]]}switch(!0){case p===ei.h.ligovskiy:return[[0,0],[272,40]];case p===ei.h.sennaya:return[[0,0],[319,40]];case p===ei.h.gostiniyDvor:return[[0,0],[336,40]];case p===ei.h.moyka:return[[0,0],[246,40]];case p===ei.h.smolnyy:return[[0,0],[264,40]];case p===ei.h.nevskiy:return[[0,0],[289,40]];case p===ei.h.griboedov:return[[0,0],[308,40]];case p===ei.h.pokrovka:return[[0,0],[301,40]];case p===ei.h.angliyskiy:default:return[[0,0],[281,40]]}},[p,h]),N=x.useCallback(()=>{let e=document.getElementsByClassName("ymaps-2-1-79-balloon")[0],t=eK.createRoot(document.getElementById("balloon-content"));(e||t)&&(e.classList.add("hotels_balloon"),t.render((0,f.jsx)(e0,{title:m,address:y,slides:b.small,queryParams:i,id:p})))},[y,b,m,i,p]),C=x.useCallback(()=>{N(),r(p),d(!0)},[p,r,N]),S=x.useCallback(()=>{d(!1),r("")},[r]);x.useEffect(()=>{o&&p===l&&o.balloon.close()},[i,o]);let M=s.templateLayoutFactory.createClass(`<div class="placemark_hotel">
                                <h2 class="placemark_hotel_header"><b>${m}</b></h2>
                                <div class="placemark_hotel_arrow"/>
                            </div>
                        `,{build:function(){M.superclass.build.call(this);let e=this.getParentElement().getElementsByClassName("placemark_hotel")[0];e.style.position="relative",e.style.fontSize=h?"1rem":"1.6rem",e.style.textTransform="uppercase",e.style.padding=h?"0.5rem 1rem":"1rem 2rem",e.style.borderRadius="1.8rem",e.style.background=g?"#1D5377":'url("/images/map/placemarkIcon.png") no-repeat',e.style.backgroundPosition=h?"3.5rem top":"3rem top",e.style.backgroundSize="contain",e.style.width="fit-content",e.style.whiteSpace="nowrap",e.style.color=g?"white":"#424753",e.style.height=g?"unset":h?"3rem":"5.5rem",this.getParentElement().getElementsByClassName("placemark_hotel_header")[0].style.opacity=g?"1":"0";let t=this.getParentElement().getElementsByClassName("placemark_hotel_arrow")[0];t.style.display=g?"unset":"none",t.style.position="absolute",t.style.width=h?"1rem":"2rem",t.style.height=h?"1rem":"2rem",t.style.transform="rotate(45deg)",t.style.background=g?"#1D5377":"white",t.style.zIndex="-1",t.style.bottom=h?"-0.5rem":"-1rem",t.style.left="4rem",this.getData().geoObject.events.add("mouseenter",()=>{a!==p&&n(p)}),this.getData().geoObject.events.add("mouseleave",()=>{n("")})}});return(0,f.jsx)(eZ.ah,{geometry:v,properties:{balloonContent:'<div class="hotels_page_balloon_content" id="balloon-content"></div>'},options:{balloonMaxWidth:359,balloonMaxHeight:359,balloonPanelMaxMapArea:_?1/0:0,balloonAutoPan:!_,iconLayout:M,iconShape:{type:"Rectangle",coordinates:g?w():h?[[30,0],[70,23]]:[[30,0],[70,40]]},iconOffset:[-50,-50],zIndex:k,hideIconOnBalloonOpen:!1,balloonOffset:[0,-30]},modules:["geoObject.addon.balloon","geoObject.addon.hint"],onBalloonOpen:C,onBalloonClose:S,instanceRef:e=>c(e)})}s(92937);var e5=s(94701),e2=s.n(e5);function e3(e){let{className:t,children:s,instanceRef:l,disable:r=!1}=e,a=(0,es.GS)(el.Mq),[n,i]=x.useState(!a),o=x.useCallback(e=>2===e.touches.length?i(!0):i(!1),[]);return x.useEffect(()=>{!r&&a&&l&&(n?l.behaviors.enable("drag"):l.behaviors.disable("drag"))},[a,n,l,r]),(0,f.jsx)("div",{className:O()(e2().root,t),onTouchStart:e=>o(e),children:s})}function e4(e){let{hotels:t,selectedHotelID:s,setSelectedHotelID:l,city:r,isOpenMapMobile:a,hoverHotelID:n,setHoverHotelID:i,queryParams:o}=e,c=(0,es.GS)(el.ai),u=(0,es.GS)(el.Mq),d=(0,es.GS)(el.PJ),[_,h]=x.useState(),[p,m]=x.useState(),v=!u||u&&a,y=x.useCallback(e=>{switch(!0){case c&&e===ex.t.spb:return[59.936644,30.335868];case c&&e===ex.t.msk:return[55.77,37.629824];case u&&e===ex.t.spb:return[59.93,30.336];case u&&e===ex.t.msk:return[55.762816,37.639824];case d&&e===ex.t.spb:return[59.94,30.336];case d&&e===ex.t.msk:return[55.762816,37.639824];default:if(e===ex.t.spb)return[59.94,30.35];if(e===ex.t.msk)return[55.762816,37.639824]}return[0,0]},[d,c,u]);return x.useEffect(()=>{p?.setCenter(y(r)).then()},[r,u,c,y,p]),(0,f.jsx)("div",{className:eJ().root,children:(0,f.jsx)(eZ.Yy,{query:{apikey:"497feeb6-dc95-47ca-b1c3-75a4c310c9b7"},children:(0,f.jsx)(e3,{instanceRef:p,disable:u,children:v?(0,f.jsxs)(eZ.D5,{width:"100%",height:"100%",defaultState:{center:y(r),zoom:c?12:13},instanceRef:e=>{e&&(e.behaviors.disable("scrollZoom"),m(e))},options:{yandexMapDisablePoiInteractivity:!0,suppressMapOpenBlock:!0,copyrightLogoVisible:!1,copyrightProvidersVisible:!1,copyrightUaVisible:!1},onLoad:e=>h(e),modules:["templateLayoutFactory","layout.ImageWithContent"],children:[!u&&(0,f.jsx)(eZ.Ly,{options:{position:{right:27,bottom:360},size:"small"}}),t.map((e,t)=>{if(_)return(0,f.jsx)(e1,{item:e,ymapRef:_,selectedHotelID:s,setSelectedHotelID:l,hoverHotelID:n,setHoverHotelID:i,queryParams:o},t)})]}):(0,f.jsx)(f.Fragment,{})})})})}function e9(e){let{hotels:t,selectedHotelID:s,setSelectedHotelID:l,isOpenMapMobile:r,city:a,hoverHotelID:n,setHoverHotelID:i,queryParams:o}=e;return(0,f.jsxs)("div",{className:O()(eT().root,{[eT().active]:r}),children:[(0,f.jsx)(e4,{hotels:t,selectedHotelID:s,setSelectedHotelID:l,city:a,isOpenMapMobile:r,hoverHotelID:n,setHoverHotelID:i,queryParams:o}),(0,f.jsx)("div",{className:O()(eT().gradient,{[eT().active]:r})})]})}let e6=(e,t)=>{switch(!0){case e===eE.W.star3:return t.filter(e=>e!==eE.W.star4);case e===eE.W.star4:return t.filter(e=>e!==eE.W.star3);default:return t}},e7=(e,t)=>{switch(!0){case"1"===e:return t.filter(e=>"2"!==e&&"3"!==e&&"4"!==e);case"2"===e:return t.filter(e=>"1"!==e&&"3"!==e&&"4"!==e);case"3"===e:return t.filter(e=>"2"!==e&&"1"!==e&&"4"!==e);case"4"===e:return t.filter(e=>"2"!==e&&"3"!==e&&"1"!==e);default:return t}},e8=(e,t)=>e===eE.W.star3||e===eE.W.star4?e6(e,t):"1"===e||"2"===e||"3"===e||"4"===e?e7(e,t):t,te=()=>{let[e,t]=x.useState([]),s=x.useCallback(e=>()=>{t(t=>[...e8(e,t),e])},[]),l=x.useCallback(e=>()=>{t(t=>t.filter(t=>t!==e))},[]),r=x.useCallback(()=>{t([])},[]),a=x.useCallback((e,t)=>()=>{e?l(t)():s(t)()},[s,l]);return{selectedFilters:e,removeFilter:l,clearFilters:r,handleClickFilter:a}};var tt=s(24032),ts=s.n(tt),tl=s(78577),tr=s.n(tl),ta=s(6323),tn=s.n(ta);function ti(e){let{isActive:t,setIsActive:s,setValue:l,items:r}=e,a=x.useCallback(e=>()=>{l(e)(),s(!1)},[s,l]);return(0,f.jsx)("div",{className:O()(tn().root,{[tn().active]:t}),children:(0,f.jsx)("ul",{children:r.map((e,t)=>(0,f.jsx)("li",{onClick:a(e),children:e},t))})})}var to=s(92728);function tc(){return(tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var tu=e=>A.createElement("svg",tc({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 23"},e),d||(d=A.createElement("path",{fill:"#8E99AF",fillRule:"evenodd",d:"M7 .667a.5.5 0 0 0-1 0v1.25H2.25a1.5 1.5 0 0 0-1.5 1.5v17.25a1.5 1.5 0 0 0 1.5 1.5H19.5a1.5 1.5 0 0 0 1.5-1.5V3.417a1.5 1.5 0 0 0-1.5-1.5h-3.75V.667a.5.5 0 0 0-1 0v1.25H7zm13 6.5v-3.75a.5.5 0 0 0-.5-.5h-3.75v1.25a.5.5 0 0 1-1 0v-1.25H7v1.25a.5.5 0 0 1-1 0v-1.25H2.25a.5.5 0 0 0-.5.5v3.75zm-18.25 1H20v12.5a.5.5 0 0 1-.5.5H2.25a.5.5 0 0 1-.5-.5zm2.5 3a.5.5 0 0 1 .5-.5H6.5a.5.5 0 0 1 0 1H4.75a.5.5 0 0 1-.5-.5m5.25 0a.5.5 0 0 1 .5-.5h1.75a.5.5 0 0 1 0 1H10a.5.5 0 0 1-.5-.5m5.25 0a.5.5 0 0 1 .5-.5H17a.5.5 0 0 1 0 1h-1.75a.5.5 0 0 1-.5-.5m-10.5 5.25a.5.5 0 0 1 .5-.5H6.5a.5.5 0 0 1 0 1H4.75a.5.5 0 0 1-.5-.5m5.25 0a.5.5 0 0 1 .5-.5h1.75a.5.5 0 0 1 0 1H10a.5.5 0 0 1-.5-.5",clipRule:"evenodd"}))),td=s(29703),t_=s.n(td),th=s(83441),tp=s.n(th),tm=s(49740);s(23613),s(42413);var tv=s(39422),ty=s(3251),tf=s(39291),tx=s(43328),tb=s(39315),tj=s(30666);function tg(e){let{isActive:t,setIsActive:s,value:l,setValue:r}=e,[a,n]=x.useState(l),[i,o]=x.useState(0),[c,u]=a,d=x.useRef(null),_=e=>{if(a[0]&&!a[1]){let t=(0,tv.j)(e,a[0]);if(!(t<1)){o(t);return}}};x.useEffect(()=>{let e=setTimeout(()=>{let e=d.current?.querySelectorAll(".react-datepicker__day--in-range");e&&e.length>0&&(e[0].classList.add("first-in-range"),e[e.length-1].classList.add("last-in-range"))},0);return()=>clearTimeout(e)},[c,u]);let h=x.useCallback(e=>{let t=e%10,s=e%100;return 1===t&&11!==s?"ночь":t>=2&&t<=4&&(s<12||s>14)?"ночи":"ночей"},[]),p=i?`Заезд ${(0,ef.WU)(a[0],"dd MMMM",{locale:tm.Z})} - Выезд ${(0,ef.WU)((0,ty.E)(a[0],i),"dd MMMM",{locale:tm.Z})} (${i} ${h(i)})`:"Выберите дату заезда",m=e=>(0,tf._)(e)===(0,tx.N)(e);return(0,f.jsx)("div",{className:O()(t_().root,{[t_().active]:t}),ref:d,children:(0,f.jsxs)("div",{className:"datepicker_wrapper_hotels",children:[(0,f.jsx)(tp(),{locale:"ru",inline:!0,selectsRange:!0,onSelect:()=>{},minDate:new Date,maxDate:(0,tb.z)((0,tj.V)(new Date),10),calendarStartDay:1,monthsShown:2,startDate:a[0],endDate:a[1],onChange:e=>{n(e),e[1]&&(r(e)(),s(!1))},showDisabledMonthNavigation:!0,onDayMouseEnter:e=>_(e),dayClassName:e=>m(e)?"last_day_of_month":""}),(0,f.jsxs)("div",{className:t_().bottom,children:[(0,f.jsx)("span",{children:p}),(0,f.jsx)("span",{children:"Лучшие цены для 1 гостя за ночь "}),(0,f.jsx)("span",{children:"Цена может быть доступна при соблюдении специальных условий бронирования"})]})]})})}function tk(){return(tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}(0,th.registerLocale)("ru",tm.Z);var tw=e=>A.createElement("svg",tk({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 25"},e),_||(_=A.createElement("path",{fill:"#8E99AF",d:"m17.834 13.8.323-.381zm-11.668 0 .324.381zm14.584 4.95c0-2.018-.945-3.933-2.593-5.331l-.647.762c1.447 1.228 2.24 2.874 2.24 4.569zm-1 0v1.5h1v-1.5zm-1.5 3H5.75v1h12.5zm-14-1.5v-1.5h-1v1.5zm1.593-6.831C4.196 14.817 3.25 16.732 3.25 18.75h1c0-1.695.793-3.34 2.24-4.568zM12 11.25c-2.297 0-4.512.773-6.157 2.169l.647.762c1.45-1.23 3.43-1.931 5.51-1.931zm6.157 2.169c-1.645-1.396-3.86-2.169-6.157-2.169v1c2.08 0 4.06.702 5.51 1.931zM5.75 21.75a1.5 1.5 0 0 1-1.5-1.5h-1a2.5 2.5 0 0 0 2.5 2.5zm14-1.5a1.5 1.5 0 0 1-1.5 1.5v1a2.5 2.5 0 0 0 2.5-2.5z"})),h||(h=A.createElement("circle",{cx:12,cy:7.25,r:4.5,stroke:"#8E99AF"}))),tN=s(6582),tC=s.n(tN),tS=s(46702),tM=s.n(tS);function tO(){return(tO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var tD=e=>A.createElement("svg",tO({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 13 3"},e),p||(p=A.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1 1.5h11"})));function tH(){return(tH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var tE=e=>A.createElement("svg",tH({xmlns:"http://www.w3.org/2000/svg",width:12,height:11,fill:"none"},e),m||(m=A.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 1v9M1 5.5h10"})));function tF(e){let{title:t,value:s,setValue:l,prevDisable:r,nextDisable:a}=e,n=x.useCallback(()=>{l(s-1)()},[l,s]),i=x.useCallback(()=>{l(s+1)()},[l,s]);return(0,f.jsxs)("div",{className:tM().counter_wrapper,children:[(0,f.jsx)("span",{className:tM().title,children:t}),(0,f.jsxs)("div",{className:tM().counter,children:[(0,f.jsx)("div",{className:O()(tM().counter_button,{[tM().disable]:r}),onClick:n,role:"button",children:(0,f.jsx)(tD,{className:tM().counter_icon})}),(0,f.jsx)("span",{children:s}),(0,f.jsx)("div",{className:O()(tM().counter_button,{[tM().disable]:a}),onClick:i,role:"button",children:(0,f.jsx)(tE,{className:tM().counter_icon})})]})]})}var tI=s(23588),tA=s.n(tI);let tP=["до 1 года","1 год","2 года","3 года","4 года","5 лет"];function tz(e){let{number:t,value:s,setValue:l,isValid:r}=e;return(0,f.jsxs)("div",{className:tA().root,children:[(0,f.jsxs)("span",{children:["Возраст ",t,"-ого ребенка"]}),(0,f.jsxs)("select",{name:"age",id:"age",onChange:l(t-1),className:O()({[tA().valid]:!s&&r}),children:[!s&&(0,f.jsx)("option",{value:"",disabled:!0,selected:!0,className:tA().disabled,children:"Выбрать"}),tP.map((e,t)=>(0,f.jsx)("option",{value:t,selected:t===s,children:e},t))]})]})}function tL(e){let{isActive:t,setIsActive:s,setValue:l,value:r}=e,[a,n]=x.useState(!1),[i,o]=x.useState(r),c=x.useCallback(e=>()=>{i.adult>=4&&e>i.adult||i.adult<=1&&e<i.adult||i.sum>=5&&e>i.adult||o(t=>({...t,adult:e,sum:t.children+e}))},[i]),u=x.useCallback(e=>()=>{if(i.children<=0&&e<i.children||i.sum>=5&&e>i.children)return;if(e<i.children)return o(t=>{let s=i.childrenAge.filter((t,s)=>s!==e);return{...t,children:e,sum:t.adult+e,childrenAge:s}});let t=[...i.childrenAge,null];o(s=>({...s,children:e,sum:s.adult+e,childrenAge:t})),n(!1)},[i]),d=x.useCallback(e=>t=>{o(s=>{let l=[...s.childrenAge];return l[e]=Number(t.target.value),{...s,childrenAge:l}})},[]),_=i.adult<=1,h=i.adult>=4||i.sum>=5,p=i.children<=0,m=i.sum>=5;return(0,f.jsxs)("div",{className:O()(tC().root,{[tC().active]:t}),children:[(0,f.jsx)("span",{className:tC().title,children:"Гости"}),(0,f.jsxs)("div",{className:tC().counters_wrapper,children:[(0,f.jsx)(tF,{title:"Взрослые",value:i.adult,setValue:c,prevDisable:_,nextDisable:h}),(0,f.jsx)(tF,{title:"Дети младше 6 лет",value:i.children,setValue:u,prevDisable:p,nextDisable:m})]}),(0,f.jsxs)("div",{className:tC().bottom,children:[(0,f.jsx)("div",{children:Array.from({length:i.children}).map((e,t)=>(0,f.jsx)(tz,{number:t+1,value:i.childrenAge[t],setValue:d,isValid:a},t))}),(0,f.jsx)(Q.z,{className:tC().button,green:!0,onClick:()=>{if(i.childrenAge.includes(null)){n(!0);return}l(i),s(!1)},children:"Готово"})]})]})}var tR=s(44110),tW=s.n(tR);function tB(e){let{title:t,value:s,isActive:l,setIsActive:r,icon:a}=e;return(0,f.jsxs)("div",{className:O()(tW().root,{[tW().active]:l}),onClick:()=>r(e=>!e),children:[(0,f.jsx)("span",{className:O()(tW().title,tW().string),children:t}),(0,f.jsx)("span",{className:O()(tW().value,tW().string),children:s}),a]})}function tV(e){let{title:t,value:s,setValue:l,list:r,date:a,guests:n}=e,[i,o]=x.useState(!1),c=x.useRef(null),u=x.useCallback(()=>{switch(!0){case r:return(0,f.jsx)(eS.Z,{className:O()(tr().icon,tr().arrow,{[tr().active]:i})});case a:return(0,f.jsx)(tu,{className:O()(tr().icon)});case n:return(0,f.jsx)(tw,{className:O()(tr().icon)});default:return null}},[r,a,n,i]);x.useEffect(()=>{if(document&&i){let e=e=>{c.current&&(e.target===c.current||c.current.contains(e.target))||e.target.classList.contains("react-datepicker__day")||o(!1)};return document.addEventListener("click",t=>e(t)),()=>document.removeEventListener("click",t=>e(t))}},[i]);let d=r?s:s[0];return(0,f.jsxs)("div",{className:tr().root,ref:c,children:[(0,f.jsx)(tB,{title:t,value:d,isActive:i,setIsActive:o,icon:u()}),r&&(0,f.jsx)(ti,{isActive:i,setIsActive:o,setValue:l,items:[to.cities.spb,to.cities.msk]}),a&&(0,f.jsx)(tg,{isActive:i,setIsActive:o,value:s[1],setValue:l}),n&&(0,f.jsx)(tL,{isActive:i,setIsActive:o,setValue:l,value:s[1]})]})}function tq(e){let{closeModal:t,setTlFilter:s,selectedCity:l,setSelectedCity:r,selectedDate:a,setSelectedDate:n,selectedGuests:i,setSelectedGuests:o}=e,c=x.useCallback(e=>()=>{r(e)},[r]),u=x.useCallback(e=>()=>{n(e)},[n]),d=(0,ef.WU)(a[0],"dd.MM.yyyy"),_=(0,ef.WU)(a[1],"dd.MM.yyyy"),h=[{title:"Город",value:l,setValue:c,list:!0,date:!1,guests:!1},{title:"Дата заезда-выезда",value:[`${d} - ${_}`,a],setValue:u,list:!1,date:!0,guests:!1},{title:"Гости",value:[`${i.adult}  ${i.adult>1?"взрослых":"взрослый"},  ${i.children} ${1===i.children?"ребенок":"детей"}`,i],setValue:o,list:!1,date:!1,guests:!0}],p=x.useCallback(()=>{s(),t()},[t,s]);return(0,f.jsxs)("div",{className:ts().root,children:[(0,f.jsx)("span",{className:ts().title,children:"Изменить поиск:"}),(0,f.jsx)(eB.P,{close:t,className:ts().close_button}),(0,f.jsx)("div",{className:ts().inputs_wrapper,children:h.map((e,t)=>{let{title:s,value:l,setValue:r,list:a,date:n,guests:i}=e;return(0,f.jsx)(tV,{title:s,value:l,setValue:r,list:a,date:n,guests:i},t)})}),(0,f.jsx)(Q.z,{className:ts().button,purple:!0,xl:!0,onClick:p,children:"Искать"})]})}var t$=s(68670),tU=s.n(t$),tG=s(58165),tT=s(96131),tZ=s.n(tT),tY=s(2441),tJ=s.n(tY);function tK(e){let{value:t,isChecked:s,handleClickFilter:l}=e;return(0,f.jsx)("div",{className:O()(tJ().root,{[tJ().active]:s}),onClick:l(s,t),role:"switch","aria-checked":s,children:(0,f.jsx)("div",{className:O()(tJ().toggle,{[tJ().active]:s})})})}var tX=s(55014),tQ=s.n(tX);function t0(e){let{title:t,className:s}=e;return(0,f.jsx)("span",{className:O()(tQ().root,s),children:t})}function t1(e){let{title:t,selectedFilters:s,handleClickFilter:l}=e;return(0,f.jsxs)("div",{className:tZ().root,children:[(0,f.jsx)(t0,{title:t}),(0,f.jsxs)("div",{className:tZ().wrapper,children:[(0,f.jsx)(tK,{value:t,isChecked:s.includes(t),handleClickFilter:l}),(0,f.jsx)("span",{children:"Да"})]})]})}var t5=s(41922),t2=s.n(t5);function t3(e){let{children:t}=e,[s,l]=x.useState(!1),r=(0,es.GS)(el.ai),a=t?.props?.items?.length>5;return(0,f.jsxs)("div",{className:t2().root,children:[(0,f.jsx)("div",{className:O()(t2().wrapper,{[t2().active]:s}),children:t}),a&&r&&(0,f.jsxs)("span",{className:t2().button,role:"button",onClick:()=>l(e=>!e),children:[s?"Скрыть":"Показать еще",(0,f.jsx)(eR.Z,{className:O()(t2().arrow,{[t2().active]:s})})]})]})}var t4=s(27604),t9=s.n(t4);function t6(){return(t6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}).apply(this,arguments)}var t7=e=>A.createElement("svg",t6({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 15 15"},e),v||(v=A.createElement("path",{fill:"#CDD2DE",d:"M7.5 0a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15"})),y||(y=A.createElement("path",{fill:"#fff",d:"M6.68 6h1.3v5h-1.3zm-.19-1.41a.65.65 0 0 1 .21-.49q.22-.21.6-.21t.61.21q.24.2.24.49t-.24.49q-.23.19-.61.19t-.6-.19a.65.65 0 0 1-.21-.49"})));function t8(e){let{title:t,items:s,popUp:l,selectedFilters:r,handleClickFilter:a}=e,[n,i]=x.useState(!1);return(0,f.jsxs)("div",{className:t9().root,children:[(0,f.jsx)(t0,{title:t}),s&&s.map((e,t)=>(0,f.jsxs)("div",{className:t9().wrapper,children:[(0,f.jsx)(eD,{name:e,isChecked:r.includes(e),handleClickFilter:a}),l&&l.item===e&&(0,f.jsxs)("div",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:()=>i(e=>!e),children:[(0,f.jsx)(t7,{className:t9().icon}),(0,f.jsx)("p",{className:O()(t9().pop_up,{[t9().active]:n}),dangerouslySetInnerHTML:{__html:l.text}})]})]},t)),t===c.amenities&&(0,f.jsx)("span",{className:t9().footnote,children:"*Не во всех номерах"})]})}var se=s(94889),st=s.n(se);function ss(e){let{clearFilters:t,close:s}=e;return(0,f.jsxs)("div",{className:st().root,children:[(0,f.jsx)(Q.z,{className:st().clear,onClick:t,children:(0,f.jsx)("span",{children:"Сбросить все"})}),(0,f.jsx)(Q.z,{className:st().apply,onClick:s,green:!0,xl:!0,children:"Применить"})]})}function sl(e){let{isOpen:t,close:s,clearFilters:l,selectedFilters:r,handleClickFilter:a,cityPage:n}=e,i=n===ex.t.msk?eI:eF;return(0,f.jsx)("div",{className:O()(tU().root,{[tU().active]:t}),children:(0,f.jsxs)("div",{className:tU().wrapper,children:[(0,f.jsx)(eB.P,{close:s,className:tU().close}),(0,f.jsx)("div",{className:tU().tags,children:i[0].items?.map((e,t)=>f.jsx(tG.v,{name:e,isChecked:r.includes(e),handleClickFilter:a},t))}),(0,f.jsx)(e_,{className:tU().filters,children:(0,f.jsx)("div",{className:tU().filters_wrapper,children:i.map((e,t)=>{let{title:s,type:l,items:n,popUp:i}=e;if(!(t<1)){if(l===u.checkbox)return(0,f.jsx)(t3,{children:(0,f.jsx)(t8,{title:s,items:n,popUp:i,selectedFilters:r,handleClickFilter:a},t)},t);if(l===u.switch)return(0,f.jsx)(t3,{children:(0,f.jsx)(t1,{title:s,selectedFilters:r,handleClickFilter:a})},t)}})})}),(0,f.jsx)(ss,{clearFilters:l,close:s})]})})}let sr=()=>{let[e,t]=x.useState(!1),[s,l]=x.useState(!1),[r,a]=x.useState(!1),n=x.useCallback(()=>{t(!0)},[]),i=x.useCallback(()=>{t(!1)},[]);return{isOpenModal:e,isOpenFilters:s,isOpenMapMobile:r,openModal:n,closeModal:i,openFilters:x.useCallback(()=>{l(!0)},[]),closeFilters:x.useCallback(()=>{l(!1)},[]),handleOpenMapMobile:x.useCallback(()=>{a(e=>(document&&(document.body.style.overflowY=e?"auto":"hidden"),!e))},[])}},sa=e=>{let[t,s]=x.useState(null),[l,r]=x.useState(""),a=new Date,n=(0,ty.E)(a,1),[i,o]=x.useState(e),[c,u]=x.useState([a,n]),[d,_]=x.useState({adult:2,children:0,sum:2,childrenAge:[]}),h=x.useCallback(()=>{s({city:i,date:[(0,ef.WU)(c[0],"yyyy-MM-dd"),(0,ef.WU)(c[1],"yyyy-MM-dd")],guests:d.sum,adult:d.adult,children:d.children,childrenAge:d.childrenAge})},[i,c,d.adult,d.children,d.childrenAge,d.sum,s]);return x.useEffect(()=>{if(!t)return;let e={date:t?.date[0],nights:(0,tv.j)(t?.date[1],t?.date[0]).toString(),adults:t?.adult.toString(),"children-age":t.childrenAge.join(";")};r(new URLSearchParams(e).toString())},[t]),{filterTL:t,setTlFilter:h,selectedCity:i,setSelectedCity:o,selectedDate:c,setSelectedDate:u,selectedGuests:d,setSelectedGuests:_,queryParams:l}};function sn(e){let{city:t,hotels:s}=e;t=t||ex.t.spb;let l=(0,es.GS)(el.ai),[r,a]=x.useState(null),[n,i]=x.useState(""),[o,c]=x.useState(""),{isOpenModal:u,isOpenFilters:d,isOpenMapMobile:_,openModal:h,closeModal:p,openFilters:m,closeFilters:v,handleOpenMapMobile:y}=sr(),{selectedFilters:b,removeFilter:g,clearFilters:k,handleClickFilter:w}=te(),{filterTL:N,setTlFilter:C,selectedCity:S,setSelectedCity:M,selectedDate:O,setSelectedDate:D,selectedGuests:H,setSelectedGuests:E,queryParams:F}=sa(t),I=x.useCallback((e,s,l)=>e?e.filter(e=>(!l||e.city===l.city)&&(!!l||!t||e.city===t)&&s.every(t=>isNaN(Number(t))?e.stars===t||e.services.includes(t)||e.locations.includes(t):e.people>=Number(t))):e,[t]),A=N?.city?N.city:t;return x.useEffect(()=>{s&&a(I(s,b,N))},[b,s,I,N]),(0,f.jsxs)("section",{className:j().root,children:[(0,f.jsx)(eU,{hotels:r,filterTL:N,isOpenFilters:d,openFilters:m,selectedFilters:b,removeFilter:g,clearFilters:k,handleClickFilter:w,selectedHotelID:n,setHoverHotelID:c,setSelectedCity:M,hoverHotelID:o,openModal:h,isOpenMapMobile:_,handleOpenMapMobile:y,queryParams:F,cityPage:A}),(0,f.jsx)(sl,{isOpen:d,close:v,selectedFilters:b,handleClickFilter:w,clearFilters:k,cityPage:A}),r&&(0,f.jsx)(e9,{isOpenMapMobile:_,hotels:r,city:S,selectedHotelID:n,setSelectedHotelID:i,hoverHotelID:o,setHoverHotelID:c,queryParams:F}),(0,f.jsx)(eW.u,{isOpen:u,close:p,opacityBG:l?0:.4,mobileCloseIcon:!1,notDelayed:l,children:(0,f.jsx)(tq,{closeModal:p,setTlFilter:C,selectedCity:S,setSelectedCity:M,selectedDate:O,setSelectedDate:D,selectedGuests:H,setSelectedGuests:E})})]})}},92728:function(e,t,s){"use strict";var l,r,a,n;s.d(t,{attributes:function(){return l},cities:function(){return r}}),(a=l||(l={})).all="Все объекты",a.kids="Можно с детьми",a.pets="Можно с питомцами",a.breakfast="С завтраком",a.buffet="\xabШведский стол\xbb",a.star3="Отели 3",a.star4="Отели 4",(n=r||(r={})).spb="Санкт-Петербург",n.msk="Москва"},68036:function(e,t,s){"use strict";var l,r;s.d(t,{t:function(){return l}}),(r=l||(l={})).spb="Санкт-Петербург",r.msk="Москва"},92937:function(){},23613:function(){},67090:function(){},94889:function(e){e.exports={root:"style_root__8Yk_A",apply:"style_apply__LeDWg",clear:"style_clear__a8Fvx"}},25622:function(e){e.exports={root:"style_root__JDIIU",disabled:"style_disabled__oqTqu",active:"style_active__rqdkR"}},27604:function(e){e.exports={root:"style_root__70mwm",wrapper:"style_wrapper__OhjlC",icon:"style_icon__x7Oy7",pop_up:"style_pop_up__NbXwi",active:"style_active__hg4jl",footnote:"style_footnote___pZEe"}},96131:function(e){e.exports={root:"style_root__umeVd",wrapper:"style_wrapper__Y5_BF"}},41922:function(e){e.exports={root:"style_root__wxhAv",wrapper:"style_wrapper__VHbz5",active:"style_active___ib2R",button:"style_button__RAjIy",arrow:"style_arrow__2B3Ht"}},55014:function(e){e.exports={root:"style_root__pd5HM"}},2441:function(e){e.exports={root:"style_root__Nf2MX",active:"style_active__qZhBs",toggle:"style_toggle__j692M"}},68670:function(e){e.exports={root:"style_root__XrR_X",active:"style_active__vmNL2",wrapper:"style_wrapper__nw6qf",close:"style_close__Z2c41",filters:"style_filters__zjyCe",filters_wrapper:"style_filters_wrapper__6ja0J",tags:"style_tags__c9uMa"}},99931:function(e){e.exports={root:"style_root__Ah2Dh"}},13114:function(e){e.exports={root:"style_root__SWmTU",location:"style_location__NK09X"}},86743:function(e){e.exports={root:"style_root__2UzxK"}},65853:function(e){e.exports={root:"style_root__g_lte",active:"style_active__j_Ox8",gradient:"style_gradient__AwkiZ"}},46702:function(e){e.exports={title:"style_title__kF563",counter:"style_counter__bjm3s",counter_icon:"style_counter_icon__gNt5x",counter_button:"style_counter_button__9UUmA",disable:"style_disable__bdhRs"}},78577:function(e){e.exports={root:"style_root__uogk_",icon:"style_icon__nkVsk",arrow:"style_arrow__1nixM",active:"style_active__YJxwh"}},44110:function(e){e.exports={root:"style_root__Rdb_O",active:"style_active__FRpWV",title:"style_title__YI1uv",value:"style_value__VATk9",string:"style_string__Yv_eU"}},6582:function(e){e.exports={root:"style_root__tNTvS",active:"style_active__car5h",title:"style_title__vRPTX",counters_wrapper:"style_counters_wrapper__ES92_",bottom:"style_bottom__vzbzd",select_wrapper:"style_select_wrapper__tJ99f",button:"style_button__gHnYg"}},29703:function(e){e.exports={root:"style_root__6yGch",active:"style_active__ZjcVh",bottom:"style_bottom__wvrHT"}},6323:function(e){e.exports={root:"style_root__xncHH",active:"style_active__c2Q9k"}},23588:function(e){e.exports={root:"style_root__qRsS1",valid:"style_valid__ZN7ek",disabled:"style_disabled__gaQRh"}},24032:function(e){e.exports={root:"style_root__wjKQ3",title:"style_title__AZd9K",inputs_wrapper:"style_inputs_wrapper__RqFQz",button:"style_button__l1nfG",close_button:"style_close_button__ta04O"}},4338:function(e){e.exports={root:"style_root__N8mxx",amenities:"style_amenities__qS9z8"}},58924:function(e){e.exports={root:"style_root__O2V94",location_2:"style_location_2__GoePZ"}},75803:function(e){e.exports={root:"style_root__C2_YP",balloon:"style_balloon__U9Iso",price:"style_price__zCEpF",button:"style_button__gMJi_",hover:"style_hover__fGxkl"}},15864:function(e){e.exports={root:"style_root__4cO7K",map_card:"style_map_card__9kK5K",slider:"style_slider__iSwL_",slide:"style_slide__XyRs1",arrow:"style_arrow__huCHx",active:"style_active__zC7D4",prev:"style_prev__UpIf1",next:"style_next__4cYVj"}},39569:function(e){e.exports={root:"style_root__j9W0V"}},82901:function(e){e.exports={root:"style_root__eS5rT",hover:"style_hover__2B8zF"}},60509:function(e){e.exports={root:"style_root__RkpJv",map_active:"style_map_active__IeP7a",cards_wrapper:"style_cards_wrapper__aHrwU",gradient:"style_gradient__T_UTw"}},42241:function(e){e.exports={root:"style_root__2Jb4E",text:"style_text__dmSkH",checkbox:"style_checkbox__WL9Jm"}},69889:function(e){e.exports={root:"style_root__DwnrD",hover:"style_hover__cVARE",msk:"style_msk__HfPRr",title:"style_title__ZVV2r",arrow:"style_arrow_____NR",items:"style_items__2SOv4"}},11393:function(e){e.exports={root:"style_root__1GiDQ",wrapper:"style_wrapper__IOnwG",all_filters_button:"style_all_filters_button__nK4Dt",filters:"style_filters__ZM_cZ"}},86724:function(e){e.exports={root:"style_root__9Pygg"}},46783:function(e){e.exports={root:"style_root__2Et3K",title:"style_title__S5dVQ",search:"style_search__BqLkn",city:"style_city___Jdfe",center:"style_center__RRWmI",guests:"style_guests__O5Ibm",icon:"style_icon__pXpiw"}},60892:function(e){e.exports={root:"style_root__hoYFX",title:"style_title__NOmon",filters_wrapper:"style_filters_wrapper__vCg_b",selected_title:"style_selected_title___XJBi",filter:"style_filter__oXls7"}},57967:function(e){e.exports={root:"style_root__4pwrZ",map_active:"style_map_active__d_WVb",filters_active:"style_filters_active__KgU4H",title:"style_title__sBomS",mobile_button:"style_mobile_button___SBcG",mobile_filters_wrapper:"style_mobile_filters_wrapper__LYhm_",close:"style_close__AeJDt",button:"style_button__qmAkw",mobile_filters:"style_mobile_filters__vU12R"}},94701:function(e){e.exports={root:"style_root__v4r7W"}}}]);