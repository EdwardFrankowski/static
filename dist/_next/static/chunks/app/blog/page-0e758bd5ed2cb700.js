(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9404],{89713:function(e,t,r){Promise.resolve().then(r.t.bind(r,25250,23)),Promise.resolve().then(r.bind(r,19721)),Promise.resolve().then(r.bind(r,26877)),Promise.resolve().then(r.t.bind(r,36419,23)),Promise.resolve().then(r.t.bind(r,62623,23)),Promise.resolve().then(r.t.bind(r,39957,23))},20703:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(67447),s=r.n(n)},8792:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(25250),s=r.n(n)},47907:function(e,t,r){"use strict";var n=r(15313);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},67447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getImageProps:function(){return o},default:function(){return u}});let n=r(86921),s=r(38630),i=r(81749),l=n._(r(10536)),o=e=>{let{props:t}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}},u=i.Image},19721:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let n=r(99775);function s(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return r}},26877:function(e,t,r){"use strict";r.r(t),r.d(t,{Main:function(){return C}});var n,s,i,l,o=r(57437),u=r(2265);(n=i||(i={})).all="Все статьи",n.places="Достопримечательности",n.gastronomicGuide="Гастрономический гид",n.advices="Полезные советы",n.parks="Сады и парки",n.promotions="Акции",(s=l||(l={})).all="Все статьи",s.guide="Гид";let a={spb:i,msk:l};var c=r(51189),_=r(78248),d=r.n(_),f=r(19357),p=r(68036),h=r(68100),b=r(1349),m=r.n(b),x=r(15776),y=r.n(x),v=r(20703),g=r(20884),j=r.n(g);function k(e){let{header:t,subheader:r,date:n}=e,s=Number(n.slice(0,2)),i=n.slice(2);return(0,o.jsxs)("div",{className:j().root,children:[(0,o.jsxs)("div",{className:j().date,children:[(0,o.jsx)("span",{children:s})," ",(0,o.jsx)("span",{children:i})]}),(0,o.jsx)("h2",{children:t}),r&&(0,o.jsx)("h3",{children:r})]})}var w=r(74898),N=r(8792);function S(e){let{item:t,link:r}=e;return(0,o.jsx)("div",{className:y().root,children:(0,o.jsxs)(N.default,{href:r,className:y().link,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:y().image_wrapper,children:(0,o.jsx)(v.default,{src:t.image[1],alt:"main",className:y().image,width:600,height:600})}),(0,o.jsx)(k,{header:t.title,subheader:t.subtitle,date:t.date})]}),(0,o.jsx)("div",{className:y().button_wrapper,children:(0,o.jsx)(w.z,{green:!0,sm:!0,children:"Читать"})})]})})}let P=(e,t)=>{if(t.length<1)return!1;for(let r of t)if(e.includes(r))return!1;return!0};function O(e){let{selectedAttributes:t,selectedCity:r,cards:n}=e;return(0,o.jsx)("div",{className:m().root,children:Object.values(n).reverse().map((e,s)=>P(e.attributes,t)||r===p.t.msk&&!e.attributes.includes(r)||r===p.t.spb&&e.attributes.includes(p.t.msk)?null:(0,o.jsx)(S,{item:e,link:`/blog/${Object.keys(n).reverse()[s]}/`},s))})}function C(e){let{data:t}=e,[r,n]=u.useState(p.t.spb),[s,i]=u.useState([]);return(0,o.jsxs)(c.W,{as:"section",className:d().root,children:[(0,o.jsx)(f.a,{className:d().filter_city,selectedCity:r,setSelectedCity:n,setSelectedAttributes:i}),(0,o.jsx)(h.S,{className:d().filter_attributes,setSelectedAttributes:i,selectedAttributes:s,filters:Object.values(r===p.t.spb?a.spb:a.msk)}),(0,o.jsx)(O,{selectedAttributes:s,cards:t,selectedCity:r})]})}},58165:function(e,t,r){"use strict";r.d(t,{v:function(){return u}});var n=r(57437);r(2265);var s=r(25622),i=r.n(s),l=r(16480),o=r.n(l);function u(e){let{name:t,isChecked:r,handleClickFilter:s,isDisabled:l}=e;return(0,n.jsx)("div",{role:"checkbox","aria-checked":r,className:o()(i().root,{[i().active]:r},{[i().disabled]:l}),onClick:s(r,t),children:(0,n.jsx)("span",{children:t})})}},74898:function(e,t,r){"use strict";r.d(t,{z:function(){return u}});var n=r(57437);r(2265);var s=r(16480),i=r.n(s),l=r(55805),o=r.n(l);let u=e=>{let{className:t,xl:r=!1,l:s=!1,sm:l=!1,green:u=!1,purple:a=!1,blue:c=!1,white:_=!1,purpleGradient:d=!1,onClick:f,type:p="button",...h}=e;return(0,n.jsx)("button",{...h,className:i()(o().root,{[o().green]:u,[o().purple]:a,[o().white]:_,[o().blue]:c,[o().purpleGradient]:d,[o().xl]:r,[o().l]:s,[o().sm]:l},t),onClick:f,type:p})}},51189:function(e,t,r){"use strict";r.d(t,{W:function(){return u}});var n=r(57437);r(2265);var s=r(16480),i=r.n(s),l=r(89004),o=r.n(l);let u=e=>{let{as:t="div",className:r,children:s,...l}=e;return(0,n.jsx)(t,{className:i()(o().root,r),...l,children:s})}},68100:function(e,t,r){"use strict";r.d(t,{S:function(){return c}});var n=r(57437),s=r(2265),i=r(23147),l=r.n(i),o=r(16480),u=r.n(o),a=r(47907);function c(e){let{setSelectedAttributes:t,selectedAttributes:r,filters:i,className:o}=e,c=(0,a.useRouter)(),_=i[0],d=s.useCallback((e,r)=>()=>{if(e===_){if(r)return;return t([])}t(t=>r?t.filter(t=>t!==e):[...t,e])},[_,t]);return s.useEffect(()=>{let e=new URLSearchParams(window.location.search).get("filters");if(e){let r=[];e.split(",").forEach(e=>{i.forEach(t=>{let n=t.split(","),s=n.length>1&&n[0].length<6?n[0].length:6;t.slice(0,s)===e.slice(0,s)&&r.push(t)})}),t(r)}},[t]),s.useEffect(()=>{let e=new URLSearchParams;if(r.length>0){let t=[];r.forEach(e=>{t.push(e.replaceAll(",",""))}),console.log(),e.set("filters",t.join(","))}else e.delete("filters");c.replace(`?${e.toString()}`)},[r,c]),(0,n.jsx)("div",{className:u()(l().root,o),children:i.map((e,t)=>{let s=r.includes(e)||e===_&&r.length<1;return(0,n.jsxs)("div",{className:l().wrapper,onClick:d(e,s),onKeyPress:t=>{("Enter"===t.key||" "===t.key)&&(d(e,s)(),t.preventDefault())},tabIndex:0,role:"checkbox","aria-checked":s,children:[(0,n.jsx)("div",{className:u()(l().checkbox,{[l().selected]:s})}),(0,n.jsx)("span",{className:u()(l().text,{[l().selected]:s}),children:e})]},t)})})}},19357:function(e,t,r){"use strict";r.d(t,{a:function(){return _}});var n=r(57437),s=r(2265),i=r(38636),l=r.n(i),o=r(58165),u=r(68036),a=r(16480),c=r.n(a);function _(e){let{selectedCity:t,setSelectedCity:r,setSelectedAttributes:i,className:a,isDisabledMSK:_}=e,d=s.useCallback((e,t)=>()=>{r(t),i([])},[r,i]);return(0,n.jsx)("div",{className:c()(l().root,a),children:Object.values(u.t).map((e,r)=>(0,n.jsx)(o.v,{name:e,isChecked:t===e,handleClickFilter:d,isDisabled:_&&1===r},r))})}},68036:function(e,t,r){"use strict";var n,s;r.d(t,{t:function(){return n}}),(s=n||(n={})).spb="Санкт-Петербург",s.msk="Москва"},15776:function(e){e.exports={root:"style_root__QF6_e",link:"style_link__bxzoV",image_wrapper:"style_image_wrapper__q6TlO",image:"style_image__KlrgO",button_wrapper:"style_button_wrapper___KlOU"}},1349:function(e){e.exports={root:"style_root__ep_ad"}},20884:function(e){e.exports={root:"style_root__ZHQ6V",date:"style_date__sOIGp"}},25622:function(e){e.exports={root:"style_root__JDIIU",disabled:"style_disabled__oqTqu",active:"style_active__rqdkR"}},55805:function(e){e.exports={root:"style_root___A1MS",xl:"style_xl__yli9H",l:"style_l__hjHzz",sm:"style_sm__ASxbt",green:"style_green__WFoQ_",purple:"style_purple__4AXxg",purpleGradient:"style_purpleGradient__b0xM_",blue:"style_blue__WkQ0f",white:"style_white__w9eTR"}},89004:function(e){e.exports={root:"style_root__FVTmd"}},36419:function(e){e.exports={root:"style_root__zqpVc",text:"style_text__htyNb",blog:"style_blog__nTe9e"}},39957:function(e){e.exports={root:"style_root__OFCvZ",link:"style_link__43urp",title:"style_title__3P7aj"}},62623:function(e){e.exports={root:"style_root__Wo8ft",span:"style_span__ScWxA"}},78248:function(e){e.exports={filter_city:"style_filter_city__xG99Z",filter_attributes:"style_filter_attributes__J8es0"}},23147:function(e){e.exports={root:"style_root___x2qJ",text:"style_text__2Ibqm",selected:"style_selected__mKLKX",wrapper:"style_wrapper__1Fdv4",checkbox:"style_checkbox__uxJER"}},38636:function(e){e.exports={root:"style_root__soNaN"}},16480:function(e,t){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=i(t,r));return t}(r)))}return e}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0!==(r=(function(){return s}).apply(t,[]))&&(e.exports=r)}()}},function(e){e.O(0,[5250,1749,2971,8069,1744],function(){return e(e.s=89713)}),_N_E=e.O()}]);