(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1634],{80491:function(e,t,r){"use strict";var s,l=r(52846);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}t.Z=e=>l.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 12"},e),s||(s=l.createElement("path",{stroke:"#8E99AF",strokeLinecap:"round",strokeLinejoin:"round",d:"m1 1 10 10m0-10L1 11"})))},5826:function(e,t,r){Promise.resolve().then(r.t.bind(r,25250,23)),Promise.resolve().then(r.bind(r,19721)),Promise.resolve().then(r.bind(r,63395)),Promise.resolve().then(r.t.bind(r,36419,23)),Promise.resolve().then(r.t.bind(r,39957,23)),Promise.resolve().then(r.t.bind(r,62623,23)),Promise.resolve().then(r.t.bind(r,30723,23))},19721:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let s=r(99775);function l(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return r}},63395:function(e,t,r){"use strict";r.r(t),r.d(t,{Form:function(){return U}});var s,l,n,i=r(57437),a=r(2265),o=r(84728),_=r.n(o),c=r(74898),d=r(47036),p=r(48114),m=r(52),u=r.n(m),h=r(52846);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}var f=e=>h.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",width:89,height:58,fill:"none"},e),s||(s=h.createElement("g",{clipPath:"url(#upload_svg__a)"},h.createElement("path",{fill:"#00D8E6",d:"M71.9 21.1c-.7-6.5-4.1-12.1-9.1-15.8C58.9 2 53.7 0 48.2 0c-9.3 0-17.3 5.5-20.9 13.5-1.6-.8-3.3-1.3-5.2-1.3-5.9 0-10.7 4.6-11.2 10.3C4.5 25.4 0 31.8 0 39.3v.4c0 2.1.3 4.3 1 6.4 2.4 7.3 8.2 11.5 16.2 11.5 5.3.1 10.7 0 16 0H40V43.4H26.7L44.2 26l17.4 17.4H48.3v14.2H53c5.8.1 11.7.1 17.5 0 4.4 0 8.2-1.5 11-4.1 4.2-3.4 6.8-8.5 6.8-14.2 0-9.5-7.2-17.2-16.4-18.2"}))),l||(l=h.createElement("defs",null,h.createElement("clipPath",{id:"upload_svg__a"},h.createElement("path",{fill:"#fff",d:"M0 0h88.3v57.7H0z"}))))),y=r(52266),v=r.n(y),x=r(16480),b=r.n(x),j=r(24843),w=r(2769);function k(e){let{icon:t,dragText:r,selectText:s,onFilesSelected:l,accept:n,multiple:o,isInvalid:_,setProgress:d,dataFiles:p}=e,m=(0,j.GS)(w.Mq),[u,h]=(0,a.useState)(!1),g=(0,a.useRef)(null),f=(0,a.useCallback)(e=>p.some(t=>t.name===e.name&&t.lastModified===e.lastModified),[p]),y=(0,a.useCallback)(e=>{if(!e||0===e.length)return;let t=Array.from(e).filter(e=>e.type.startsWith("image/")||"application/pdf"===e.type?e.size>2e7?(alert("Размер файла не должен превышать 20 МБ. \nПожалуйста, убедитесь, что ваш файл соответствует этому ограничению."),!1):!f(e):(alert("Пожалуйста, загрузите файл изображения \n(например, .jpg, .png, .gif)."),!1));0!==t.length&&(l(t),P(t))},[f,l]),x=(0,a.useCallback)(e=>{e.preventDefault(),h(!0)},[]),k=(0,a.useCallback)(e=>{e.preventDefault(),h(!1)},[]),C=(0,a.useCallback)(e=>{e.preventDefault(),h(!1),y(e.dataTransfer.files)},[y]),N=(0,a.useCallback)(e=>{y(e.target.files)},[y]),P=(0,a.useCallback)(e=>{d(t=>{let r=[...t],s=r.length;return e.forEach((e,t)=>{let l=new FileReader;l.onprogress=e=>{e.lengthComputable&&(r[s+t]=Math.round(e.loaded/e.total*100),d([...r]))},l.onload=()=>{r[s+t]=100,d([...r])},l.readAsDataURL(e)}),r})},[d]);(0,a.useEffect)(()=>()=>{d([])},[d]);let z=()=>(0,i.jsx)("input",{type:"file",accept:n,multiple:o,ref:g,style:{display:"none"},onChange:N});return m?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.z,{green:!0,xl:!0,onClick:()=>g.current?.click(),className:v().mobile_button,children:"Выберите фото"}),z()]}):(0,i.jsxs)("div",{className:b()(v().root,{[v().dragging]:u,[v().invalid]:_}),onDragOver:x,onDragLeave:k,onDrop:C,onClick:()=>g.current?.click(),children:[(0,i.jsx)(t,{}),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{children:r}),(0,i.jsx)("span",{children:s})]}),z()]})}var C=r(24129),N=r(58180),P=r.n(N),z=r(95470),E=r.n(z);function D(){return(D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}var L=e=>h.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 12"},e),n||(n=h.createElement("path",{stroke:"#00D8E6",strokeLinecap:"square",strokeMiterlimit:10,strokeWidth:2,d:"m12 2-7 8-3-3"}))),O=r(80491),M=r(1455),R=r.n(M);function F(e){let{color:t="#424753",borderWidth:r=2,className:s}=e;return(0,i.jsx)("div",{className:b()(R().root,s),style:{border:`${r}px solid ${t}`,borderTop:`${r}px solid transparent`}})}let q=e=>{if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024)),r=(e/Math.pow(1024,t)).toFixed(2).replace(".00","");return`${r} ${["B","KB","MB","GB","TB"][t]}`};function B(e){let{name:t,size:r,isLoaded:s,loading:l,handleRemoveFile:n}=e;return(0,i.jsxs)("div",{className:E().root,children:[(0,i.jsxs)("div",{className:E().left,children:[(0,i.jsxs)("div",{className:E().icon_wrapper,children:[!s&&(0,i.jsx)(F,{}),s&&(0,i.jsx)(L,{})]}),(0,i.jsx)("span",{className:E().file_name,children:t})]}),(0,i.jsxs)("div",{className:E().right,children:[(0,i.jsx)("span",{className:E().file_size,children:q(r)}),(0,i.jsx)("div",{className:E().close_icon,onClick:n,children:(0,i.jsx)(O.Z,{})})]}),(0,i.jsx)("div",{className:b()(E().progress_bar),style:{background:s?`linear-gradient(90deg, rgba(0,216,230,1) ${l}%, rgba(255, 255, 255, 0) ${l}%)`:`linear-gradient(90deg, rgba(31,67,151,1) ${l}%, rgba(255, 255, 255, 0) ${l}%)`}})]})}function T(e){let{files:t,handleRemoveFile:r,progress:s}=e;return(0,i.jsx)("div",{className:P().root,children:t.map((e,t)=>{let l=s[t];return(0,i.jsx)(B,{name:e.name,size:e.size,isLoaded:100===l,loading:l,handleRemoveFile:()=>r(t)},t)})})}var S=r(5792);let I=["с информацией о дате выдаче","с ФИО владельца","с отметкой о регистрации по месту жительства"];function A(e){let{header:t,isInvalid:r,handleAddImage:s,files:l,handleRemoveImage:n,progress:a,setProgress:o}=e;return(0,i.jsxs)("div",{className:u().root,children:[(0,i.jsxs)("div",{className:u().image_input,children:[(0,i.jsxs)("div",{className:u().image_input_text,children:[(0,i.jsx)(C.T,{htmlFor:"image-select",header:t,isRequired:!0}),(0,i.jsx)("ol",{className:u().list,children:I.map((e,t)=>(0,i.jsx)("li",{children:e},t))})]}),(0,i.jsxs)("div",{className:u().image_input_select,children:[(0,i.jsx)(k,{icon:f,dragText:"Перетащите фото сюда ",selectText:"или выберите фото из памяти устройства",accept:"image/png, image/jpeg, image/jpg, image/gif, image/tiff, application/pdf",multiple:!0,onFilesSelected:s,isInvalid:r,setProgress:o,dataFiles:l}),(0,i.jsx)(S.k,{text:"Обязательно загрузите фото",isVisible:r})]})]}),l.length>0&&(0,i.jsx)(T,{files:l,handleRemoveFile:n,progress:a})]})}var G=r(29005),$=r(50052),H=r(70055);let V=[{header:"ФИО основного гостя как в брони",id:"name",type:"text",placeholder:"Иванов Иван Иванвич",minLength:2,maxLength:40,required:!0},{header:"Телефон для связи",id:"phone",type:"tel",placeholder:"+7 (999) 999 99 99",mask:"+7 (999) 999 99 99",required:!0},{header:"ФИО дополнительных гостей через запятую, если они есть ",id:"namesGuests",type:"text",placeholder:"Иванова Елена Валерьевна, Иванова Мария Ивановна",minLength:2,maxLength:500,required:!1},{header:"Отель, в котором вы бронировали номер",id:"hotel",type:"select",placeholder:"Port Comfort on Ligovskiy (СПб, Лиговский, 29)",options:["Port Comfort on Ligovskiy (СПб, Лиговский, 29)","Port Comfort by the Griboedov (СПб, Бол. Подьяческая, 19)","Port Comfort by the Gostiniy Dvor (СПб, Садовая, 28-30)","Port Comfort by old Nevskiy (СПб, Ал. Невского, 9В)","Port Comfort on Mariinsky (СПб, Английский, 30)","Port Comfort by Moyka (СПб, Гривцова, 4к2)","Port Comfort by Sennaya Square (СПб, Садовая, 53)","Port Comfort by Smolnyy (СПб, Суворовский, 65Б)","Port Comfort on Pokrovka (МСК, Покровка, 29)"],required:!0},{header:"Добавьте фото или скан-копии страниц паспорта:",id:"files",type:"files",required:!0}],Q=[{header:"Согласен c правилами",id:"agree",link:"/privacy-policy/",linkText:"обработки персональных данных"},{header:"Согласен c",id:"agree2",link:"/rules-of-accommodation/",linkText:"условиями договора"}];function U(){let{formData:e,setFormData:t,checkboxes:r,setCheckboxes:s,invalidNDX:l,loadingFileProgress:n,setLoadingFileProgress:a,isSubmitting:o,setIsSubmitting:m,handleChange:u,handleCheckboxChange:h,handleAddImage:g,handleRemoveImage:f,validateForm:y}=(0,$.E)(V,Q),v=async r=>{if(r.preventDefault(),!l.length&&e)try{m(!0);let r=new FormData;r.append("name",e.name),r.append("phone",e.phone),r.append("namesGuests",e.namesGuests),r.append("hotel",e.hotel),e.files.forEach(e=>r.append("files",e)),await (0,H.N)("/api/send-non-contact-check-in-message",r,!0),alert("Данные успешно отправлены"),t({name:"",phone:"",namesGuests:"",hotel:"",files:[]}),s({agree:!1,agree2:!1}),a([])}catch(e){console.error(e),alert("Произошла ошибка при отправке данных")}finally{m(!1)}};return e&&r?(0,i.jsxs)("div",{className:_().root,children:[(0,i.jsxs)("form",{onSubmit:v,className:_().form,children:[(0,i.jsx)("div",{className:_().inputs_wrapper,children:V.filter(e=>"files"!==e.type).map((t,r)=>(0,i.jsx)(d.I,{header:t.header,id:t.id,type:t.type,placeholder:t.placeholder,options:t.options,mask:t.mask,handleChange:u,formData:e,isInvalid:l.includes(r),classNameInput:_().input,classNameSelect:_().select,required:t.required},r))}),(0,i.jsx)("div",{className:_().input_image_wrapper,children:(0,i.jsx)(A,{header:V[V.length-1].header,isInvalid:l.includes(V.length-1),handleAddImage:g,handleRemoveImage:f,files:e.files,progress:n,setProgress:a})}),(0,i.jsx)("div",{className:_().checkbox_wrapper,children:Q.map((e,t)=>{let{header:s,id:n,link:a,linkText:o}=e;return(0,i.jsx)(p.X,{text:s,id:n,link:a,linkText:o,checked:r[n],onChange:h,isInvalid:l.length>0&&!r[n]},t)})}),(0,i.jsx)(c.z,{className:_().button,l:!0,green:!0,type:"submit",onClick:()=>y(),isDisabled:o,children:"Отправить"})]}),(0,i.jsx)(G.H,{text:"Пожалуйста, заполните все обязательные поля",isVisible:l.length>0})]}):(0,i.jsx)(i.Fragment,{})}},84728:function(e){e.exports={root:"style_root__3mw6V",form:"style_form__BRm2l",inputs_wrapper:"style_inputs_wrapper__mD0aW",input:"style_input__PbCvF",select:"style_select__a_R9Y",input_image_wrapper:"style_input_image_wrapper__5wCbV",checkbox_wrapper:"style_checkbox_wrapper__fDk5z",button:"style_button__lF5QU"}},52:function(e){e.exports={root:"style_root__qXmBP",image_input:"style_image_input__L6cc_",image_input_text:"style_image_input_text__VqRR0",image_input_select:"style_image_input_select__G1wBn",list:"style_list__0BMbH",dragArea:"style_dragArea__1_z16",dragging:"style_dragging__e7QCe",alert_text:"style_alert_text__QjLCA",alert:"style_alert__3KFlh",files_wrapper:"style_files_wrapper__IuyYR",file:"style_file__z5_Qt",ss:"style_ss__pl7oa",ss2:"style_ss2__Wb1wV",icon_wrapper:"style_icon_wrapper__kvpcZ",file_name:"style_file_name__4_YJm",file_size:"style_file_size__lSSiP",close_icon:"style_close_icon__7o1D3",progress_bar:"style_progress_bar__HgAzR",loaded:"style_loaded__NlD5q"}},1455:function(e){e.exports={root:"style_root__t_jUi",spin:"style_spin__LT_67"}},30723:function(e){e.exports={root:"style_root__nIrWA"}},52266:function(e){e.exports={root:"style_root__ZLzTM",invalid:"style_invalid__DOSzQ",dragging:"style_dragging__3d6UO",mobile_button:"style_mobile_button__0mzzN"}},95470:function(e){e.exports={root:"style_root__E7vez",left:"style_left__OErCx",right:"style_right__TRDxw",icon_wrapper:"style_icon_wrapper__zLU0K",file_name:"style_file_name__dUzd_",file_size:"style_file_size__tdaw9",close_icon:"style_close_icon__abRP1",progress_bar:"style_progress_bar__s0RRN",loaded:"style_loaded__MzLMu"}},58180:function(e){e.exports={root:"style_root__QPXvc"}}},function(e){e.O(0,[5250,8680,505,2971,8069,1744],function(){return e(e.s=5826)}),_N_E=e.O()}]);